{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u6b22\u8fce\u6765\u5230\u6211\u7684\u4e2a\u4eba\u4e3b\u9875 For full documentation visit mkdocs.org . SWIFT\u5b66\u4e60\u7b14\u8bb0 \u6570\u636e\u673a\u6784\u4e0e\u7b97\u6cd5 Objective-C\u5de5\u4f5c\u65e5\u8bb0 \u8865\u5145 \u5982\u679c\u60a8\u4e5f\u5e0c\u671b\u5199\u4e00\u7bc7\u7c7b\u4f3c\u7684\u4e2a\u4eba\u4e3b\u9875,\u90a3\u4e48 \u8fd9\u91cc .\u5c06\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9","title":"Home"},{"location":"#_1","text":"For full documentation visit mkdocs.org .","title":"\u6b22\u8fce\u6765\u5230\u6211\u7684\u4e2a\u4eba\u4e3b\u9875"},{"location":"#swift","text":"","title":"SWIFT\u5b66\u4e60\u7b14\u8bb0"},{"location":"#_2","text":"","title":"\u6570\u636e\u673a\u6784\u4e0e\u7b97\u6cd5"},{"location":"#objective-c","text":"","title":"Objective-C\u5de5\u4f5c\u65e5\u8bb0"},{"location":"#_3","text":"\u5982\u679c\u60a8\u4e5f\u5e0c\u671b\u5199\u4e00\u7bc7\u7c7b\u4f3c\u7684\u4e2a\u4eba\u4e3b\u9875,\u90a3\u4e48 \u8fd9\u91cc .\u5c06\u662f\u4e00\u4e2a\u4e0d\u9519\u7684\u9009\u62e9","title":"\u8865\u5145"},{"location":"about/","text":"\u5173\u4e8e1 \u5173\u4e8e1 \u5173\u4e8e2","title":"About"},{"location":"about/#1","text":"","title":"\u5173\u4e8e1"},{"location":"about/#1_1","text":"","title":"\u5173\u4e8e1"},{"location":"about/#2","text":"","title":"\u5173\u4e8e2"},{"location":"code/","text":"\u5411\u91cf\u53c9\u4e58 \u5de6\u624b\u5b9a\u5219: vec3 front, right; vec3 up = cross(right, front); \u5411\u91cfright\u4ece\u5de6\u624b\u624b\u5fc3\u7a7f\u8fc7, \u9664\u62c7\u6307\u5916\u7684\u56db\u6839\u624b\u6307\u6307\u5411front\u65b9\u5411,\u8fd9\u65f6\u5927\u62c7\u6307\u6307\u5411\u7684\u5c31\u662f\u5411\u91cfup\u7684\u65b9\u5411 code camera \u5305\u542b\u7684\u5411\u91cf\u5143\u7d20: \u4f4d\u7f6epos,\u65b9\u5411front,\u53f3right, \u4fef\u4ef0\u89d2(Pitch)\u3001\u504f\u822a\u89d2(Yaw),\u79fb\u52a8\u901f\u5ea6(MovementSpeed), \u7075\u654f\u5ea6(MouseSensitivity) \u5b9e\u73b0\u7684\u52a8\u4f5c: \u5411\u524d\u79fb\u52a8(forward): \u6cbffront\u65b9\u5411\u79fb\u52a8 \u5411\u540e\u79fb\u52a8(backward): \u6cbffront\u53cd\u65b9\u5411\u79fb\u52a8 \u5411\u53f3\u79fb\u52a8(right): \u6cbf\u5411\u91cfright\u79fb\u52a8 \u5411\u5de6\u79fb\u52a8(left): \u6cbf\u5411right\u53cd\u5411\u79fb\u52a8 \u6cbfx\u8f74\u8f6c\u52a8:pitch \u6cbfy\u8f74\u8f6c\u52a8:yaw code title2 code title3","title":"code"},{"location":"code/#_1","text":"\u5de6\u624b\u5b9a\u5219: vec3 front, right; vec3 up = cross(right, front); \u5411\u91cfright\u4ece\u5de6\u624b\u624b\u5fc3\u7a7f\u8fc7, \u9664\u62c7\u6307\u5916\u7684\u56db\u6839\u624b\u6307\u6307\u5411front\u65b9\u5411,\u8fd9\u65f6\u5927\u62c7\u6307\u6307\u5411\u7684\u5c31\u662f\u5411\u91cfup\u7684\u65b9\u5411","title":"\u5411\u91cf\u53c9\u4e58"},{"location":"code/#code","text":"","title":"code"},{"location":"code/#camera","text":"\u5305\u542b\u7684\u5411\u91cf\u5143\u7d20: \u4f4d\u7f6epos,\u65b9\u5411front,\u53f3right, \u4fef\u4ef0\u89d2(Pitch)\u3001\u504f\u822a\u89d2(Yaw),\u79fb\u52a8\u901f\u5ea6(MovementSpeed), \u7075\u654f\u5ea6(MouseSensitivity) \u5b9e\u73b0\u7684\u52a8\u4f5c: \u5411\u524d\u79fb\u52a8(forward): \u6cbffront\u65b9\u5411\u79fb\u52a8 \u5411\u540e\u79fb\u52a8(backward): \u6cbffront\u53cd\u65b9\u5411\u79fb\u52a8 \u5411\u53f3\u79fb\u52a8(right): \u6cbf\u5411\u91cfright\u79fb\u52a8 \u5411\u5de6\u79fb\u52a8(left): \u6cbf\u5411right\u53cd\u5411\u79fb\u52a8 \u6cbfx\u8f74\u8f6c\u52a8:pitch \u6cbfy\u8f74\u8f6c\u52a8:yaw","title":"camera"},{"location":"code/#code-title2","text":"","title":"code title2"},{"location":"code/#code-title3","text":"","title":"code title3"},{"location":"\u76ee\u5f551/draw/","text":"\u7ed8\u5236\u5230\u7f13\u51b2\u76ee\u6807 \u5e27\u7f13\u51b2\u533a\u5bf9\u8c61\u662f\u6e32\u67d3\u547d\u4ee4\u7684\u76ee\u6807\u3002\u521b\u5efa\u5e27\u7f13\u51b2\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u7cbe\u786e\u63a7\u5236\u5176\u989c\u8272\u3001\u6df1\u5ea6\u548c\u6a21\u677f\u6570\u636e\u7684\u5b58\u50a8\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u5c06\u56fe\u50cf\u9644\u52a0\u5230\u5e27\u7f13\u51b2\u533a\u6765\u63d0\u4f9b\u6b64\u5b58\u50a8\u5982\u4e0b\u56fe\u6240\u793a\u3002\u6700\u5e38\u89c1\u7684\u56fe\u50cf\u9644\u4ef6\u662frenderbuffer\u5bf9\u8c61\u3002\u60a8\u8fd8\u53ef\u4ee5\u5c06OpenGL ES \u7eb9\u7406\u9644\u52a0\u5230\u5e27\u7f13\u51b2\u533a\u7684\u989c\u8272\u9644\u52a0\u70b9\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709\u7ed8\u5236\u547d\u4ee4\u90fd\u5c06\u6e32\u67d3\u5230\u7eb9\u7406\u4e2d\u3002\u4ee5\u540e\u7eb9\u7406\u53ef\u4ee5\u5c06\u4f5c\u4e3a\u6e32\u67d3\u547d\u4ee4\u7684\u8f93\u5165\uff0c\u60a8\u8fd8\u53ef\u4ee5\u5728 \u5355\u4e2a\u6e32\u67d3\u4e0a\u4e0b\u7a33\u91cd\u521b\u5efa\u591a\u4e2a\u5e27\u7f13\u51b2\u533a\u5bf9\u8c61\uff0c\u4ee5\u4fbf\u5728\u591a\u4e2a\u5e27\u7f13\u51b2\u4e4b\u95f4\u5171\u4eab\u76f8\u540c\u7684\u6e32\u67d3\u7ba1\u9053\u548cOpenGL ES\u8d44\u6e90 \u5de6\u53f3\u8fd9\u4e9b\u65b9\u6cd5\u90fd\u9700\u8981\u624b\u52a8\u521b\u5efa\u5e27\u7f13\u51b2\u533a\u548c\u6e32\u67d3\u7f13\u51b2\u533a\u5bf9\u8c61\u4ee5\u5b58\u50a8\u6765\u81eaOpenGL ES\u4e0a\u4e0b\u6587\u7684\u6e32\u67d3\u7ed3\u679c\uff0c\u4ee5\u53ca\u7f16\u5199\u5176\u4ed6\u4ee3\u7801\u4ee5\u5c06\u5176\u5185\u5bb9\u5448\u73b0\u5230 \u5c4f\u5e55\u4e0a\u5e76\u8fdb\u884c\u52a8\u753b\u5faa\u73af \u521b\u5efa\u4e00\u4e2a\u5e27\u7f13\u51b2\u5bf9\u8c61 \u7528\u4e8e\u5c4f\u5e55\u5916\u6e32\u67d3\u7684\u5e27\u7f13\u51b2\u533a\u5c06\u5176\u6240\u6709\u9644\u4ef6\u5206\u914d\u4e3aOpenGL ES\u6e32\u67d3\u7f13\u51b2\u533a\uff0c\u4ee5\u4e0b\u4ee3\u7801\u5206\u914d\u5e26\u6709\u989c\u8272\u548c\u6df1\u5ea6\u9644\u4ef6\u7684\u5e27\u7f13\u51b2\u533a\u5bf9\u8c61\u3002 1. \u521b\u5efa\u5e27\u7f13\u51b2\u5e76\u7ed1\u5b9a\u5b83 GLuint framebuffer; glGenFramebuffers(1, &framebuffer); glBindFramebuffer(GL_FRAMEBUFFER,framebuffer); 2.\u521b\u5efa\u4e00\u4e2a\u989c\u8272\u6e32\u67d3\u7f13\u51b2\u533a\uff0c\u4e3a\u5176\u5206\u914d\u5b58\u50a8\uff0c\u5e76\u5c06\u5176\u9644\u52a0\u5230\u5e27\u7f13\u51b2\u533a\u7684\u989c\u8272\u9644\u52a0\u70b9 GLuint colorRenderbuffer; glGenRenderbuffers(1, &colorRenderbuffer); glBindRenderbuffer(GL_RENDERBUFFER, colorRenderbuffer); glRenderbufferStorage(GL_RENDERBUFFER, GL_RGBA8, width, height); glFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_RENDERBUFFER, colorRenderbuffer); 3.\u6d4b\u8bd5\u5e27\u7f13\u51b2\u533a\u5b8c\u6574\u6027\uff0c \u4ec5\u5f53\u5e27\u7f13\u51b2\u533a\u7684\u914d\u7f6e\u66f4\u6539\u65f6\u624d\u9700\u8981\u6267\u884c\u6b64\u6d4b\u8bd5 GLenum status = glCheckFramebufferStatus(GL_FRAMEBUFFER); if (status != GL_FRAMEBUFFER_COMPLETE) { NSLog(@\"\u65e0\u6cd5\u5236\u4f5c\u5b8c\u6574\u7684\u5e27\u7f13\u51b2\u5bf9\u8c61%d\", status); } 4.\u4f7f\u7528\u5e27\u7f13\u51b2\u533a\u5bf9\u8c61\u6e32\u67d3\u5230\u7eb9\u7406 \u521b\u5efa\u6b64\u5e27\u7f13\u51b2\u533a\u7684\u4ee3\u7801\u51e0\u4e4e\u4e0e\u5c4f\u5e55\u5916\u5b9e\u4f8b\u76f8\u540c\uff0c\u4f46\u662f\u73b0\u5728\u5206\u914d\u4e86\u7eb9\u7406\u5e76\u5c06\u5176\u9644\u7740\u5230\u989c\u8272\u9644\u7740\u70b9 1.\u521b\u5efa\u5e27\u7f13\u51b2\u5bf9\u8c61 2.\u521b\u5efa\u76ee\u6807\u7eb9\u7406\uff0c\u5e76\u5c06\u5176\u9644\u52a0\u5230\u5e27\u7f13\u51b2\u533a\u7684\u989c\u8272\u9644\u52a0\u70b9 // \u521b\u5efa\u7eb9\u7406 GLuint texture; glGenTexture(1, &texture); glBindTexture(GL_TEXTURE_2D, texture); glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_LINEAR); gltexImage2D(GL_TEXTURE_2D, 0, GL_RGBA8,width,height,0,GL_RGBA, GL_UNSIGNED_BYTE,NULL); glFramebufferTexture2D(GL_FRAMEBUFFER,GL_COLOR_ATTACHMENT0,GL_TEXTURE_2D,texture,0); 3 \u5206\u914d\u5e76\u9644\u52a0\u4e00\u4e2a\u6df1\u5ea6\u7f13\u51b2\u533a 4 \u6d4b\u8bd5\u5e27\u7f13\u51b2\u533a\u5b8c\u6574\u6027\uff08\u5982\u524d\u6240\u8ff0\uff09 \u5c3d\u7ba1\u6d4b\u5b9e\u4f8b\u5047\u5b9a\u60a8\u8981\u6e32\u67d3\u4e3a\u989c\u8272\u7eb9\u7406\uff0c\u4f46\u662f\u5176\u4ed6\u9009\u9879\u4e5f\u662f\u514b\u661f\u7684\uff0c\u4f8b\u5982\u4f7f\u7528OES_depth_texture\u6269\u5c55\u540d\uff0c \u60a8\u53ef\u4ee5\u5c06\u7eb9\u7406\u9644\u52a0\u5230\u6df1\u5ea6\u9644\u52a0\u70b9\uff0c\u4ee5\u5c06\u573a\u666f\u4e2d\u7684\u6df1\u5ea6\u4fe1\u606f\u5b58\u50a8\u5230\u7eb9\u7406\u4e2d\uff0c \u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u6df1\u5ea6\u4fe1\u606f\u6765\u8ba1\u7b97\u6700\u7ec8\u6e32\u67d3\u573a\u666f\u4e2d\u7684\u9634\u5f71 \u6e32\u67d3\u5230\u6838\u5fc3\u52a8\u753b\u5c42 \u6838\u5fc3\u52a8\u753b\u662fios\u4e0a\u56fe\u5f62\u6e32\u67d3\u548c\u52a8\u753b\u7684\u4e2d\u592e\u57fa\u7840\u7ed3\u6784\uff0c\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u6258\u7ba1\u4e0d\u540cios\u5b50\u7cfb\u7edf\uff08UIKit\uff0cQuartz\u548cOpenGLES\uff09 \u6e32\u67d3\u7684\u5185\u5bb9\u7684\u56fe\u5c42\u6765\u7ec4\u6210\u5e94\u7528\u7a0b\u5e8f\u7684\u7528\u6237\u754c\u9762\u6216\u5176\u4ed6\u89c6\u89c9\u663e\u793a\u3002OpenGL ES\u901a\u8fc7CAEAGLLyer\u8fde\u63a5\u5230Core Animation \uff0c\u8be5\u7c7b\u662fCore Animation\u5c42\u7684\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\uff0c\u5176\u5185\u5bb9\u6765\u81eaOpenGL ES\u6e32\u67d3\u7f13\u51b2\u533a\uff0cCore Animation\u5c06 \u6e32\u67d3\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u4e0e\u5176\u4ed6\u56fe\u5c42\u5408\u6210\uff0c\u5e76\u5728\u5c4f\u5e55\u4e0a\u663e\u793a\u7ed3\u679c\u56fe\u50cf \u8be5CAEAGLLayer\u89c4\u5b9a\u63d0\u4f9b\u7684\u4e24\u9879\u4e3b\u8981\u529f\u80fd\uff0c\u4ee5OpenGL ES\u7684\u8fd9\u79cd\u652f\u6301\uff0c\u9996\u5148\uff0c\u5b83\u4e3a\u6e32\u67d3\u7f13\u51b2\u533a\u5206\u914d\u5171\u4eab \u5185\u5bb9\uff0c\u5176\u6b21\uff0c\u5b83\u5c06\u5448\u73b0\u7f13\u51b2\u533a\u7ed9Core Animation\uff0c\u7528\u6765\u81ea\u5448\u73b0\u7f13\u51b2\u533a\u7684\u6570\u636e\u66ff\u6362\u56fe\u5c42\u7684\u5148\u524d\u5185\u5bb9\uff0c \u8be5\u6a21\u578b\u7684\u4f18\u52bf\u5728\u4e8e\uff0c\u4ec5\u5f53\u6e32\u67d3\u7684\u56fe\u50cf\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u624d\u9700\u8981\u5728\u6bcf\u4e00\u5e27\u4e2d\u90fd\u4e0d\u7ed8\u5236\u6838\u5fc3\u52a8\u753b\u5c42\u7684\u5185\u5bb9 \u8981\u5c06\u6838\u5fc3\u52a8\u753b\u5c42\u7528\u4e8eOpenGL ES\u6e32\u67d3\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a 1.\u521b\u5efa\u4e00\u4e2aCAEAGLLayer\u5bf9\u8c61\u5e76\u914d\u7f6e\u5176\u5c5e\u6027 \u4e3a\u4e86\u83b7\u53d6\u7ec4\u4ef7\u6027\u80fd\uff0c\u8bf7\u5c06\u56fe\u5c42opaque\u5c5e\u6027\u7684\u503c\u8bbe\u7f6e\u4e3ayes\uff0c\uff08\u53ef\u9009\uff09\u901a\u8fc7drawableProperties \u4e3aCAEAGLLayer\u5bf9\u8c61\u7684\u5c5e\u6027\u5206\u914d\u503c\u7684\u65b0\u5b57\u5178\u6765\u914d\u7f6e\u6e32\u67d3\u8868\u660e\u7684\u8868\u9762\u5c5e\u6027\u3002\u60a8\u53ef\u4ee5\u6307\u5b9a\u6e32\u67d3\u7f13\u51b2\u533a \u50cf\u7d20\u683c\u5f0f\uff0c\u5e76\u6307\u5b9a\u5c06\u6e32\u67d3\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u53d1\u9001\u5230Core Animation\u540e\u662f\u5426\u5c06\u5176\u4e22\u5f03\u3002 2.\u5206\u914d\u4e00\u4e2aOpenGL ES\u4e0a\u4e0b\u6587\uff0c\u5e76\u4f7f\u5176\u6210\u4e3a\u5f53\u524d\u4e0a\u4e0b\u6587 3.\u521b\u5efa\u5e27\u7f13\u51b2\u533a\u5bf9\u8c61 4.\u521b\u5efa\u4e00\u4e2a\u989c\u8272\u6e32\u67d3\u7f13\u51b2\u533a\uff0c\u901a\u8fc7\u8c03\u7528\u4e0a\u4e0b\u6587\u7684renderbufferStorage:fromDrawable:\u65b9\u6cd5\u5e76 \u5c06\u56fe\u5c42\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u6765\u5206\u914d\u5668\u5b58\u50a8\u7a7a\u95f4\u3002\u5bbd\u5ea6\u3001\u9ad8\u5ea6\u548c\u50cf\u7d20\u683c\u5f0f\u53d6\u81ea\u56fe\u5c42\uff0c\u7528\u4e8e\u4e3a\u6e32\u67d3\u7f13\u51b2\u533a\u5206\u914d \u5b58\u50a8\u7a7a\u95f4 GLuint colorRenderbuffer; glGenRenderbuffers(1, &colorRenderbuffer); glBindRenderbuffer(GL_RENDERBUFFER, colorRenderbuffer); [myContexture glRenderbufferStorage:GL_RENDERBUFFER fromDrawable:myEAGLLayer]; glFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0,GL_RENDERBUFFER,colorRenderbuffer); \u6ce8\u610f\uff1a\u5f53\u6838\u5fc3\u52a8\u753b\u5c42\u7684\u8fb9\u7f18\u6216\u5c5e\u6027\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u60a8\u7684\u5e94\u7528\u5e94\u91cd\u65b0\u5206\u914d\u6e32\u67d3\u7f13\u51b2\u533a\u7684\u5b58\u50a8\u3002\u5982\u679c\u4e0d\u91cd\u65b0\u5206\u914d \u6e32\u67d3\u7f13\u51b2\u533a\uff0c\u5219\u6e32\u67d3\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u5c06\u4e8e\u56fe\u5c42\u7684\u5927\u5c0f\u4e0d\u5339\u914d\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0bCore Animation\u53ef\u4ee5\u7f29\u653e\u56fe\u50cf\u7684 \u5185\u5bb9\u4ee5\u9002\u5e94\u56fe\u5c42 5 \u68c0\u7d22\u989c\u8272\u6e32\u67d3\u7f13\u51b2\u533a\u7684\u9ad8\u5ea6\u548c\u5bbd\u5ea6 GLint width; GLint height; glGetRenderbufferParameteriv(GL_RENDERBUFFER, GL_RENDERBUFFER_WIDTH,&width); glGetRenderbufferParameteriv(GL_RENDERBUFFER, GL_RENDERBUFFER_HEIGHT,&height); 6 \u5206\u914d\u5e76\u9644\u52a0\u4e00\u4e2a\u6df1\u5ea6\u7f13\u51b2\u533a\uff08\u5982\u524d\u6240\u8ff0\uff09 7 \u6d4b\u8bd5\u5e27\u7f13\u51b2\u533a\u7684\u5b8c\u6574\u6027\uff08\u5982\u524d\u6240\u8ff0\uff09 8 \u901a\u8fc7\u5c06CAEAGLLayer\u5bf9\u8c61\u4f20\u9012\u5230addSublayer:\u53ef\u89c1\u5c42\u7684\u65b9\u6cd5\uff0c \u5c06\u5176\u6dfb\u52a0\u5230\u201c\u6838\u5fc3\u52a8\u753b\u201d\u5c42\u5c42\u6b21\u7ed3\u6784\u4e2d \u7ed8\u5236\u5230\u5e27\u7f13\u51b2\u5bf9\u8c61 \u73b0\u5728\u60a8\u6709\u6709\u4e86\u4e00\u4e2a\u5e27\u7f13\u51b2\u5bf9\u8c61\u60a8\uff0c\u60a8\u9700\u8981\u586b\u5145\u5b83\uff0c\u672c\u8282\u4ecb\u7ecd\u6e32\u67d3\u65b0\u6846\u67b6\u5e76\u5c06\u5176\u5448\u73b0\u7ed9\u7528\u6237\u6240\u9700\u6b65\u9aa4\u3002 \u6e32\u67d3\u5230\u7eb9\u7406\u6216\u5c4f\u5e55\u5916\u5e27\u7f13\u51b2\u533a\u7684\u884c\u4e3a\u7c7b\u4f3c\uff0c\u4ec5\u5728\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u6700\u7ec8\u5e27\u7684\u65b9\u5f0f\u65b9\u9762\u6709\u6240\u4e0d\u540c \u8981\u4f7f\u7528\u52a8\u753b\u5faa\u73af\u8fdb\u884c\u7ed8\u5236\uff0c\u8bf7\u4f7f\u7528\u4e00\u4e2aCADisplayLink\u5bf9\u8c61\uff0c\u663e\u793a\u8fde\u63a5\u662fCore Animation\u63d0\u4f9b\u7684 \u4e00\u79cd\u8ba1\u65f6\u5668\uff0c\u4f7f\u60a8\u53ef\u4ee5\u5c06\u56fe\u5f62\u540c\u6b65\u5230\u5c4f\u5e55\u7684\u5237\u65b0\u7387\uff0c \u4e0b\u9762\u7684\u4ee3\u7801\u663e\u793a\u4e86\u5982\u4f55\u663e\u793a\u89c6\u56fe\u7684\u5c4f\u5e55\uff0c\u5982\u4f55\u4f7f\u7528 \u8be5\u5c4f\u5e55\u521b\u5efa\u65b0\u7684\u663e\u793a\u8fde\u63a5\u5bf9\u8c61\u5e76\u5c06\u663e\u793a\u8fde\u63a5\u5bf9\u8c61\u6dfb\u52a0\u5230\u4e91\u5fc3\u5faa\u73af displayLink = [myView.window.screen displayLinkWithTarget:self selector:@selector(drawFrame)]; [displayLink addToRunLoop:[NSRunloop currentRunLoop] forMode:NSDefaultRunloopMode]; \u5728drawFrame\u65b9\u6cd5\u7684\u5b9e\u73b0\u5185\u90e8\uff0c\u8bfb\u53d6\u663e\u793a\u94fe\u63a5\u7684timestamp\u5c5e\u6027\u4ee5\u83b7\u53d6\u8981\u6e32\u67d3\u7684\u4e0b\u4e00\u5e27\u65f6\u95f4\u6233\uff0c \u5b83\u53ef\u4ee5\u4f7f\u7528\u8be5\u503c\u6765\u8ba1\u7b97\u4e0b\u4e00\u5e27\u4e2d\u5bf9\u8c61\u7684\u4f4d\u7f6e \u901a\u5e38\uff0c\u6bcf\u6b21\u5c4f\u5e55\u5237\u65b0\u65f6\u4f1a\u7af9\u7b4f\u663e\u793a\u94fe\u63a5\u5bf9\u8c61\uff0c\u8be5\u503c\u901a\u5e38\u4e3a60Hz\uff0c\u4f46\u5728\u4e0d\u540c\u8bbe\u5907\u4e0a\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u3002\u5927\u591a \u6570\u5e94\u7528\u7a0b\u5e8f\u4e0d\u9700\u8981\u6ca1\u79d2\u66f4\u65b0\u5c4f\u5e5560\u6b64\uff0c\u60a8\u53ef\u4ee5\u5c06\u663e\u793a\u94fe\u63a5\u7684frameInterval\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u6761\u7528\u65b9\u6cd5 \u4e4b\u524d\u7ecf\u8fc7\u7684\u5b9e\u9645\u5e27\u6570\uff0c\u4f8b\u5982\u5982\u679c\u5c06\u5e27\u95f4\u9694\u8bbe\u7f6e\u4e3a3\uff0c \u5219\u6ca1\u4e09\u5e27\u6216\u8005\u6ca1\u79d2\u5927\u7ea630\u5e27\u8c03\u7528\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f \u91cd\u8981\u63d0\u793a\uff1a\u4e3a\u4e86\u83b7\u53d6\u6700\u4f73\u6548\u679c\uff0c\u8bf7\u9009\u62e9\u60a8\u7684\u5e94\u7528\u53ef\u4ee5\u6301\u7eed\u8fbe\u5230\u7684\u5e27\u9891\uff0c\u4e0e\u4e0d\u89c4\u5219\u53d8\u5316\u7684\u5e27\u901f\u7387\u76f8\u6bd4 \uff0c\u5e73\u6ed1\uff0c\u4e00\u76f4\u7684\u5e27\u901f\u7387\u53ef\u4ee5\u63d0\u4f9b\u4ee4\u4eba\u6109\u60a6\u7684\u7528\u6237\u4f53\u9a8c \u6e32\u67d3\u6846\u67b6 \u4e0b\u56fe\u663e\u793a\u4e86OpenGL ES\u5e94\u7528\u7a0b\u5e8f\u5e94\u5728ios\u4e0a\u5448\u73b0\u548c\u5448\u73b0\u6846\u67b6\u7684\u6b65\u9aa4\uff0c\u8fd9\u4e9b\u6b65\u9aa4\u5305\u62ec\u8bb8\u591a\u63d0\u793a\uff0c \u4ee5\u63d0\u9ad8\u60a8\u7684\u5e94\u8be5\u7a0b\u5e8f\u7684\u7684\u6027\u80fd\u3002 \u6e05\u9664\u7f13\u51b2\u533a \u5728\u6bcf\u5e27\u7684\u5f00\u59cb\u5904\uff0c\u5220\u9664\u6240\u6709\u5e27\u7f13\u51b2\u9644\u4ef6\u7684\u5185\u5bb9\uff0c\u8fd9\u4e9b\u9644\u4ef6\u4e0d\u9700\u8981\u524d\u4e00\u5e27\u7684\u5185\u5bb9\u6765\u7ed8\u5236\u4e0b\u4e00\u5e27\u3002\u8c03\u7528\u8be5 glClear\u51fd\u6570\uff0c\u5e76\u4f20\u5165\u4e00\u4e2a\u5e26\u6709\u6240\u6709\u8981\u6e05\u9664\u7f13\u51b2\u533a\u7684\u4f4d\u63a9\u7801 glBindFramebuffer(GL_FRAMEBUFFER,framebuffer) glClear(GL_DEPTH_BUFFER_BIT|GL_COLOR_BUFFER_BIT); \u4f7f\u7528glClear\u53ef\u4ee5\u4e22\u5f03\u6e32\u67d3\u53bb\u6216\u7eb9\u7406\u7684\u73b0\u6709\u5185\u5bb9\uff0c\u4ece\u800c\u907f\u514d\u4e86\u5c06\u5148\u524d\u5185\u5bb9\u52a0\u8f7d\u5230\u5185\u5b58\u7684\u6602\u8d35\u626b\u9519 \u51c6\u5907\u8d44\u6e90\u5e76\u6267\u884c\u7ed8\u56fe\u547d\u4ee4 \u8fd9\u4e24\u4e2a\u6b65\u9aa4\u5305\u542b\u60a8\u5728\u8bbe\u8ba1\u5e94\u7528\u7a0b\u5e8f\u4f53\u7cfb\u7ed3\u6784\u65f6\u505a\u51fa\u7684\u5927\u591a\u6570\u5173\u952e\u51b3\u7b56\u3002\u9996\u5148\u8981\u786e\u5b9a\u663e\u793a\u7ed9\u7528\u6237\u7684\u5185\u5bb9\uff0c \u5e76\u914d\u7f6e\u76f8\u5e94\u7684OpenGL ES\u5bf9\u8c61\uff08\u4f8b\u5982\u5b9a\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61\uff0c\u7eb9\u7406\uff0c\u7740\u8272\u5668\u7a0b\u5e8f\u53ca\u5176\u8f93\u5165\u53d8\u91cf\uff09\u4ee5\u4e0a\u4f20\u5230GPU \u63a5\u4e0b\u6765\uff0c\u63d0\u4ea4\u56fe\u5f62\u6307\u4ee4\u4ee5\u544a\u77e5GPU\u5982\u4f55\u4f7f\u7528\u8fd9\u4e9b\u8d44\u6e90\u6765\u6e32\u67d3\u6846\u67b6 OpenGL ES\u8bbe\u8ba1\u51c6\u5219\u4e2d\u66f4\u8be6\u7ec6\u7684\u4ecb\u7ecd\u4e86\u6e32\u67d3\u5668\u8bbe\u8ba1\uff0c\u76ee\u524d\uff0c\u6700\u91cd\u8981\u7684\u6027\u80fd\u4f18\u5316\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u60a8\u7684\u5e94\u7528\u4ec5\u5728 \u6e32\u67d3\u65b0\u5e27\u65f6\u624d\u4fee\u6539OpenGL ES\u5bf9\u8c61\uff0c \u5219\u5176\u8fd0\u884c\u901f\u5ea6\u4f1a\u66f4\u5feb\uff0c\u5c3d\u7ba1\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u5728\u4fee\u6539\u5bf9\u8c61\u548c\u63d0\u4ea4\u7ed8\u56fe\u547d\u4ee4\u81f3\u4eca \u8fdb\u884c\u5207\u6362\uff0c \u4f46\u5982\u679c\u6bcf\u5e27\u4ec5\u6267\u884c\u4e00\u6b21\u6bcf\u4e2a\u6b65\u9aa4\uff0c\u5219\u8fd0\u884c\u7684\u901f\u5ea6\u66f4\u5feb\uff08Although your app can alternate between modifying objects and submitting drawing commands (as shown by the dotted line), it runs faster if it only performs each step once.\uff09 \u89e3\u51b3\u591a\u91cd\u91c7\u6837 \u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u591a\u91cd\u91c7\u6837\u6765\u63d0\u9ad8\u56fe\u50cf\u8d28\u91cf\uff0c\u5219\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u5148\u89e3\u6790\u50cf\u7d20\uff0c\u7136\u540e\u5728\u5c06\u50cf\u7d20\u5c55\u793a\u7ed9\u7528\u6237 \u3002\u4f7f\u7528\u591a\u91cd\u91c7\u6837\u63d0\u9ad8\u56fe\u50cf\u8d28\u91cf\u4e2d\u4ecb\u7ecd\u4e86\u591a\u91cd\u91c7\u6837 \u4e22\u5f03\u4e0d\u9700\u8981\u7684\u6e32\u67d3\u7f13\u51b2\u533a \u4e00\u4e2a\u4e22\u5f03\u64cd\u4f5c\u662f\u6027\u80fd\u6697\u793a\u544a\u8bc9OpenGL ES\u5373\u4e0d\u5728\u9700\u8981\u4e00\u4e2a\u6216\u591a\u4e2arenderbuffers\u7684\u5185\u5bb9\uff0c\u901a\u8fc7\u5411OpenGL ES \u63d0\u793a\u60a8\u4e0d\u9700\u8981\u6e32\u67d3\u7f13\u51b2\u533a\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u4e22\u5f03\u7f13\u51b2\u533a\u4e2d\u7684\u6570\u636e\uff0c\u5e76\u4e14\u53ef\u4ee5\u907f\u514d\u6267\u884c\u6602\u8d35\u7684\u4efb\u52a1\u6765\u4fdd\u6301\u8fd9\u4e9b\u7f13\u51b2\u533a\u7684 \u5185\u5bb9\u66f4\u65b0 \u5728\u6e32\u67d3\u5faa\u73af\u7684\u9636\u6bb5\uff0c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5df2\u63d0\u4ea4\u4e86\u8be5\u6846\u67b6\u7684\u6240\u6709\u7ed8\u5236\u547d\u4ee4\uff0c\u867d\u7136\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u989c\u8272\u7f13\u51b2\u533a\u624d\u80fd \u663e\u793a\u5728\u5c4f\u5e55\u4e0a\uff0c\u4f46\u53ef\u80fd\u4e0d\u9700\u8981\u6df1\u5ea6\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u3002","title":"Draw"},{"location":"\u76ee\u5f551/draw/#_1","text":"\u5e27\u7f13\u51b2\u533a\u5bf9\u8c61\u662f\u6e32\u67d3\u547d\u4ee4\u7684\u76ee\u6807\u3002\u521b\u5efa\u5e27\u7f13\u51b2\u5bf9\u8c61\u65f6\uff0c\u53ef\u4ee5\u7cbe\u786e\u63a7\u5236\u5176\u989c\u8272\u3001\u6df1\u5ea6\u548c\u6a21\u677f\u6570\u636e\u7684\u5b58\u50a8\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u5c06\u56fe\u50cf\u9644\u52a0\u5230\u5e27\u7f13\u51b2\u533a\u6765\u63d0\u4f9b\u6b64\u5b58\u50a8\u5982\u4e0b\u56fe\u6240\u793a\u3002\u6700\u5e38\u89c1\u7684\u56fe\u50cf\u9644\u4ef6\u662frenderbuffer\u5bf9\u8c61\u3002\u60a8\u8fd8\u53ef\u4ee5\u5c06OpenGL ES \u7eb9\u7406\u9644\u52a0\u5230\u5e27\u7f13\u51b2\u533a\u7684\u989c\u8272\u9644\u52a0\u70b9\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709\u7ed8\u5236\u547d\u4ee4\u90fd\u5c06\u6e32\u67d3\u5230\u7eb9\u7406\u4e2d\u3002\u4ee5\u540e\u7eb9\u7406\u53ef\u4ee5\u5c06\u4f5c\u4e3a\u6e32\u67d3\u547d\u4ee4\u7684\u8f93\u5165\uff0c\u60a8\u8fd8\u53ef\u4ee5\u5728 \u5355\u4e2a\u6e32\u67d3\u4e0a\u4e0b\u7a33\u91cd\u521b\u5efa\u591a\u4e2a\u5e27\u7f13\u51b2\u533a\u5bf9\u8c61\uff0c\u4ee5\u4fbf\u5728\u591a\u4e2a\u5e27\u7f13\u51b2\u4e4b\u95f4\u5171\u4eab\u76f8\u540c\u7684\u6e32\u67d3\u7ba1\u9053\u548cOpenGL ES\u8d44\u6e90 \u5de6\u53f3\u8fd9\u4e9b\u65b9\u6cd5\u90fd\u9700\u8981\u624b\u52a8\u521b\u5efa\u5e27\u7f13\u51b2\u533a\u548c\u6e32\u67d3\u7f13\u51b2\u533a\u5bf9\u8c61\u4ee5\u5b58\u50a8\u6765\u81eaOpenGL ES\u4e0a\u4e0b\u6587\u7684\u6e32\u67d3\u7ed3\u679c\uff0c\u4ee5\u53ca\u7f16\u5199\u5176\u4ed6\u4ee3\u7801\u4ee5\u5c06\u5176\u5185\u5bb9\u5448\u73b0\u5230 \u5c4f\u5e55\u4e0a\u5e76\u8fdb\u884c\u52a8\u753b\u5faa\u73af","title":"\u7ed8\u5236\u5230\u7f13\u51b2\u76ee\u6807"},{"location":"\u76ee\u5f551/draw/#_2","text":"\u7528\u4e8e\u5c4f\u5e55\u5916\u6e32\u67d3\u7684\u5e27\u7f13\u51b2\u533a\u5c06\u5176\u6240\u6709\u9644\u4ef6\u5206\u914d\u4e3aOpenGL ES\u6e32\u67d3\u7f13\u51b2\u533a\uff0c\u4ee5\u4e0b\u4ee3\u7801\u5206\u914d\u5e26\u6709\u989c\u8272\u548c\u6df1\u5ea6\u9644\u4ef6\u7684\u5e27\u7f13\u51b2\u533a\u5bf9\u8c61\u3002 1. \u521b\u5efa\u5e27\u7f13\u51b2\u5e76\u7ed1\u5b9a\u5b83 GLuint framebuffer; glGenFramebuffers(1, &framebuffer); glBindFramebuffer(GL_FRAMEBUFFER,framebuffer); 2.\u521b\u5efa\u4e00\u4e2a\u989c\u8272\u6e32\u67d3\u7f13\u51b2\u533a\uff0c\u4e3a\u5176\u5206\u914d\u5b58\u50a8\uff0c\u5e76\u5c06\u5176\u9644\u52a0\u5230\u5e27\u7f13\u51b2\u533a\u7684\u989c\u8272\u9644\u52a0\u70b9 GLuint colorRenderbuffer; glGenRenderbuffers(1, &colorRenderbuffer); glBindRenderbuffer(GL_RENDERBUFFER, colorRenderbuffer); glRenderbufferStorage(GL_RENDERBUFFER, GL_RGBA8, width, height); glFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0, GL_RENDERBUFFER, colorRenderbuffer); 3.\u6d4b\u8bd5\u5e27\u7f13\u51b2\u533a\u5b8c\u6574\u6027\uff0c \u4ec5\u5f53\u5e27\u7f13\u51b2\u533a\u7684\u914d\u7f6e\u66f4\u6539\u65f6\u624d\u9700\u8981\u6267\u884c\u6b64\u6d4b\u8bd5 GLenum status = glCheckFramebufferStatus(GL_FRAMEBUFFER); if (status != GL_FRAMEBUFFER_COMPLETE) { NSLog(@\"\u65e0\u6cd5\u5236\u4f5c\u5b8c\u6574\u7684\u5e27\u7f13\u51b2\u5bf9\u8c61%d\", status); } 4.\u4f7f\u7528\u5e27\u7f13\u51b2\u533a\u5bf9\u8c61\u6e32\u67d3\u5230\u7eb9\u7406 \u521b\u5efa\u6b64\u5e27\u7f13\u51b2\u533a\u7684\u4ee3\u7801\u51e0\u4e4e\u4e0e\u5c4f\u5e55\u5916\u5b9e\u4f8b\u76f8\u540c\uff0c\u4f46\u662f\u73b0\u5728\u5206\u914d\u4e86\u7eb9\u7406\u5e76\u5c06\u5176\u9644\u7740\u5230\u989c\u8272\u9644\u7740\u70b9 1.\u521b\u5efa\u5e27\u7f13\u51b2\u5bf9\u8c61 2.\u521b\u5efa\u76ee\u6807\u7eb9\u7406\uff0c\u5e76\u5c06\u5176\u9644\u52a0\u5230\u5e27\u7f13\u51b2\u533a\u7684\u989c\u8272\u9644\u52a0\u70b9 // \u521b\u5efa\u7eb9\u7406 GLuint texture; glGenTexture(1, &texture); glBindTexture(GL_TEXTURE_2D, texture); glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_LINEAR); gltexImage2D(GL_TEXTURE_2D, 0, GL_RGBA8,width,height,0,GL_RGBA, GL_UNSIGNED_BYTE,NULL); glFramebufferTexture2D(GL_FRAMEBUFFER,GL_COLOR_ATTACHMENT0,GL_TEXTURE_2D,texture,0); 3 \u5206\u914d\u5e76\u9644\u52a0\u4e00\u4e2a\u6df1\u5ea6\u7f13\u51b2\u533a 4 \u6d4b\u8bd5\u5e27\u7f13\u51b2\u533a\u5b8c\u6574\u6027\uff08\u5982\u524d\u6240\u8ff0\uff09 \u5c3d\u7ba1\u6d4b\u5b9e\u4f8b\u5047\u5b9a\u60a8\u8981\u6e32\u67d3\u4e3a\u989c\u8272\u7eb9\u7406\uff0c\u4f46\u662f\u5176\u4ed6\u9009\u9879\u4e5f\u662f\u514b\u661f\u7684\uff0c\u4f8b\u5982\u4f7f\u7528OES_depth_texture\u6269\u5c55\u540d\uff0c \u60a8\u53ef\u4ee5\u5c06\u7eb9\u7406\u9644\u52a0\u5230\u6df1\u5ea6\u9644\u52a0\u70b9\uff0c\u4ee5\u5c06\u573a\u666f\u4e2d\u7684\u6df1\u5ea6\u4fe1\u606f\u5b58\u50a8\u5230\u7eb9\u7406\u4e2d\uff0c \u60a8\u53ef\u4ee5\u4f7f\u7528\u6b64\u6df1\u5ea6\u4fe1\u606f\u6765\u8ba1\u7b97\u6700\u7ec8\u6e32\u67d3\u573a\u666f\u4e2d\u7684\u9634\u5f71","title":"\u521b\u5efa\u4e00\u4e2a\u5e27\u7f13\u51b2\u5bf9\u8c61"},{"location":"\u76ee\u5f551/draw/#_3","text":"\u6838\u5fc3\u52a8\u753b\u662fios\u4e0a\u56fe\u5f62\u6e32\u67d3\u548c\u52a8\u753b\u7684\u4e2d\u592e\u57fa\u7840\u7ed3\u6784\uff0c\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u6258\u7ba1\u4e0d\u540cios\u5b50\u7cfb\u7edf\uff08UIKit\uff0cQuartz\u548cOpenGLES\uff09 \u6e32\u67d3\u7684\u5185\u5bb9\u7684\u56fe\u5c42\u6765\u7ec4\u6210\u5e94\u7528\u7a0b\u5e8f\u7684\u7528\u6237\u754c\u9762\u6216\u5176\u4ed6\u89c6\u89c9\u663e\u793a\u3002OpenGL ES\u901a\u8fc7CAEAGLLyer\u8fde\u63a5\u5230Core Animation \uff0c\u8be5\u7c7b\u662fCore Animation\u5c42\u7684\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\uff0c\u5176\u5185\u5bb9\u6765\u81eaOpenGL ES\u6e32\u67d3\u7f13\u51b2\u533a\uff0cCore Animation\u5c06 \u6e32\u67d3\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u4e0e\u5176\u4ed6\u56fe\u5c42\u5408\u6210\uff0c\u5e76\u5728\u5c4f\u5e55\u4e0a\u663e\u793a\u7ed3\u679c\u56fe\u50cf \u8be5CAEAGLLayer\u89c4\u5b9a\u63d0\u4f9b\u7684\u4e24\u9879\u4e3b\u8981\u529f\u80fd\uff0c\u4ee5OpenGL ES\u7684\u8fd9\u79cd\u652f\u6301\uff0c\u9996\u5148\uff0c\u5b83\u4e3a\u6e32\u67d3\u7f13\u51b2\u533a\u5206\u914d\u5171\u4eab \u5185\u5bb9\uff0c\u5176\u6b21\uff0c\u5b83\u5c06\u5448\u73b0\u7f13\u51b2\u533a\u7ed9Core Animation\uff0c\u7528\u6765\u81ea\u5448\u73b0\u7f13\u51b2\u533a\u7684\u6570\u636e\u66ff\u6362\u56fe\u5c42\u7684\u5148\u524d\u5185\u5bb9\uff0c \u8be5\u6a21\u578b\u7684\u4f18\u52bf\u5728\u4e8e\uff0c\u4ec5\u5f53\u6e32\u67d3\u7684\u56fe\u50cf\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u624d\u9700\u8981\u5728\u6bcf\u4e00\u5e27\u4e2d\u90fd\u4e0d\u7ed8\u5236\u6838\u5fc3\u52a8\u753b\u5c42\u7684\u5185\u5bb9 \u8981\u5c06\u6838\u5fc3\u52a8\u753b\u5c42\u7528\u4e8eOpenGL ES\u6e32\u67d3\uff0c\u8bf7\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a 1.\u521b\u5efa\u4e00\u4e2aCAEAGLLayer\u5bf9\u8c61\u5e76\u914d\u7f6e\u5176\u5c5e\u6027 \u4e3a\u4e86\u83b7\u53d6\u7ec4\u4ef7\u6027\u80fd\uff0c\u8bf7\u5c06\u56fe\u5c42opaque\u5c5e\u6027\u7684\u503c\u8bbe\u7f6e\u4e3ayes\uff0c\uff08\u53ef\u9009\uff09\u901a\u8fc7drawableProperties \u4e3aCAEAGLLayer\u5bf9\u8c61\u7684\u5c5e\u6027\u5206\u914d\u503c\u7684\u65b0\u5b57\u5178\u6765\u914d\u7f6e\u6e32\u67d3\u8868\u660e\u7684\u8868\u9762\u5c5e\u6027\u3002\u60a8\u53ef\u4ee5\u6307\u5b9a\u6e32\u67d3\u7f13\u51b2\u533a \u50cf\u7d20\u683c\u5f0f\uff0c\u5e76\u6307\u5b9a\u5c06\u6e32\u67d3\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u53d1\u9001\u5230Core Animation\u540e\u662f\u5426\u5c06\u5176\u4e22\u5f03\u3002 2.\u5206\u914d\u4e00\u4e2aOpenGL ES\u4e0a\u4e0b\u6587\uff0c\u5e76\u4f7f\u5176\u6210\u4e3a\u5f53\u524d\u4e0a\u4e0b\u6587 3.\u521b\u5efa\u5e27\u7f13\u51b2\u533a\u5bf9\u8c61 4.\u521b\u5efa\u4e00\u4e2a\u989c\u8272\u6e32\u67d3\u7f13\u51b2\u533a\uff0c\u901a\u8fc7\u8c03\u7528\u4e0a\u4e0b\u6587\u7684renderbufferStorage:fromDrawable:\u65b9\u6cd5\u5e76 \u5c06\u56fe\u5c42\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u6765\u5206\u914d\u5668\u5b58\u50a8\u7a7a\u95f4\u3002\u5bbd\u5ea6\u3001\u9ad8\u5ea6\u548c\u50cf\u7d20\u683c\u5f0f\u53d6\u81ea\u56fe\u5c42\uff0c\u7528\u4e8e\u4e3a\u6e32\u67d3\u7f13\u51b2\u533a\u5206\u914d \u5b58\u50a8\u7a7a\u95f4 GLuint colorRenderbuffer; glGenRenderbuffers(1, &colorRenderbuffer); glBindRenderbuffer(GL_RENDERBUFFER, colorRenderbuffer); [myContexture glRenderbufferStorage:GL_RENDERBUFFER fromDrawable:myEAGLLayer]; glFramebufferRenderbuffer(GL_FRAMEBUFFER, GL_COLOR_ATTACHMENT0,GL_RENDERBUFFER,colorRenderbuffer); \u6ce8\u610f\uff1a\u5f53\u6838\u5fc3\u52a8\u753b\u5c42\u7684\u8fb9\u7f18\u6216\u5c5e\u6027\u53d1\u751f\u6539\u53d8\u65f6\uff0c\u60a8\u7684\u5e94\u7528\u5e94\u91cd\u65b0\u5206\u914d\u6e32\u67d3\u7f13\u51b2\u533a\u7684\u5b58\u50a8\u3002\u5982\u679c\u4e0d\u91cd\u65b0\u5206\u914d \u6e32\u67d3\u7f13\u51b2\u533a\uff0c\u5219\u6e32\u67d3\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u5c06\u4e8e\u56fe\u5c42\u7684\u5927\u5c0f\u4e0d\u5339\u914d\uff0c\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0bCore Animation\u53ef\u4ee5\u7f29\u653e\u56fe\u50cf\u7684 \u5185\u5bb9\u4ee5\u9002\u5e94\u56fe\u5c42 5 \u68c0\u7d22\u989c\u8272\u6e32\u67d3\u7f13\u51b2\u533a\u7684\u9ad8\u5ea6\u548c\u5bbd\u5ea6 GLint width; GLint height; glGetRenderbufferParameteriv(GL_RENDERBUFFER, GL_RENDERBUFFER_WIDTH,&width); glGetRenderbufferParameteriv(GL_RENDERBUFFER, GL_RENDERBUFFER_HEIGHT,&height); 6 \u5206\u914d\u5e76\u9644\u52a0\u4e00\u4e2a\u6df1\u5ea6\u7f13\u51b2\u533a\uff08\u5982\u524d\u6240\u8ff0\uff09 7 \u6d4b\u8bd5\u5e27\u7f13\u51b2\u533a\u7684\u5b8c\u6574\u6027\uff08\u5982\u524d\u6240\u8ff0\uff09 8 \u901a\u8fc7\u5c06CAEAGLLayer\u5bf9\u8c61\u4f20\u9012\u5230addSublayer:\u53ef\u89c1\u5c42\u7684\u65b9\u6cd5\uff0c \u5c06\u5176\u6dfb\u52a0\u5230\u201c\u6838\u5fc3\u52a8\u753b\u201d\u5c42\u5c42\u6b21\u7ed3\u6784\u4e2d","title":"\u6e32\u67d3\u5230\u6838\u5fc3\u52a8\u753b\u5c42"},{"location":"\u76ee\u5f551/draw/#_4","text":"\u73b0\u5728\u60a8\u6709\u6709\u4e86\u4e00\u4e2a\u5e27\u7f13\u51b2\u5bf9\u8c61\u60a8\uff0c\u60a8\u9700\u8981\u586b\u5145\u5b83\uff0c\u672c\u8282\u4ecb\u7ecd\u6e32\u67d3\u65b0\u6846\u67b6\u5e76\u5c06\u5176\u5448\u73b0\u7ed9\u7528\u6237\u6240\u9700\u6b65\u9aa4\u3002 \u6e32\u67d3\u5230\u7eb9\u7406\u6216\u5c4f\u5e55\u5916\u5e27\u7f13\u51b2\u533a\u7684\u884c\u4e3a\u7c7b\u4f3c\uff0c\u4ec5\u5728\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u6700\u7ec8\u5e27\u7684\u65b9\u5f0f\u65b9\u9762\u6709\u6240\u4e0d\u540c \u8981\u4f7f\u7528\u52a8\u753b\u5faa\u73af\u8fdb\u884c\u7ed8\u5236\uff0c\u8bf7\u4f7f\u7528\u4e00\u4e2aCADisplayLink\u5bf9\u8c61\uff0c\u663e\u793a\u8fde\u63a5\u662fCore Animation\u63d0\u4f9b\u7684 \u4e00\u79cd\u8ba1\u65f6\u5668\uff0c\u4f7f\u60a8\u53ef\u4ee5\u5c06\u56fe\u5f62\u540c\u6b65\u5230\u5c4f\u5e55\u7684\u5237\u65b0\u7387\uff0c \u4e0b\u9762\u7684\u4ee3\u7801\u663e\u793a\u4e86\u5982\u4f55\u663e\u793a\u89c6\u56fe\u7684\u5c4f\u5e55\uff0c\u5982\u4f55\u4f7f\u7528 \u8be5\u5c4f\u5e55\u521b\u5efa\u65b0\u7684\u663e\u793a\u8fde\u63a5\u5bf9\u8c61\u5e76\u5c06\u663e\u793a\u8fde\u63a5\u5bf9\u8c61\u6dfb\u52a0\u5230\u4e91\u5fc3\u5faa\u73af displayLink = [myView.window.screen displayLinkWithTarget:self selector:@selector(drawFrame)]; [displayLink addToRunLoop:[NSRunloop currentRunLoop] forMode:NSDefaultRunloopMode]; \u5728drawFrame\u65b9\u6cd5\u7684\u5b9e\u73b0\u5185\u90e8\uff0c\u8bfb\u53d6\u663e\u793a\u94fe\u63a5\u7684timestamp\u5c5e\u6027\u4ee5\u83b7\u53d6\u8981\u6e32\u67d3\u7684\u4e0b\u4e00\u5e27\u65f6\u95f4\u6233\uff0c \u5b83\u53ef\u4ee5\u4f7f\u7528\u8be5\u503c\u6765\u8ba1\u7b97\u4e0b\u4e00\u5e27\u4e2d\u5bf9\u8c61\u7684\u4f4d\u7f6e \u901a\u5e38\uff0c\u6bcf\u6b21\u5c4f\u5e55\u5237\u65b0\u65f6\u4f1a\u7af9\u7b4f\u663e\u793a\u94fe\u63a5\u5bf9\u8c61\uff0c\u8be5\u503c\u901a\u5e38\u4e3a60Hz\uff0c\u4f46\u5728\u4e0d\u540c\u8bbe\u5907\u4e0a\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u3002\u5927\u591a \u6570\u5e94\u7528\u7a0b\u5e8f\u4e0d\u9700\u8981\u6ca1\u79d2\u66f4\u65b0\u5c4f\u5e5560\u6b64\uff0c\u60a8\u53ef\u4ee5\u5c06\u663e\u793a\u94fe\u63a5\u7684frameInterval\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u6761\u7528\u65b9\u6cd5 \u4e4b\u524d\u7ecf\u8fc7\u7684\u5b9e\u9645\u5e27\u6570\uff0c\u4f8b\u5982\u5982\u679c\u5c06\u5e27\u95f4\u9694\u8bbe\u7f6e\u4e3a3\uff0c \u5219\u6ca1\u4e09\u5e27\u6216\u8005\u6ca1\u79d2\u5927\u7ea630\u5e27\u8c03\u7528\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f \u91cd\u8981\u63d0\u793a\uff1a\u4e3a\u4e86\u83b7\u53d6\u6700\u4f73\u6548\u679c\uff0c\u8bf7\u9009\u62e9\u60a8\u7684\u5e94\u7528\u53ef\u4ee5\u6301\u7eed\u8fbe\u5230\u7684\u5e27\u9891\uff0c\u4e0e\u4e0d\u89c4\u5219\u53d8\u5316\u7684\u5e27\u901f\u7387\u76f8\u6bd4 \uff0c\u5e73\u6ed1\uff0c\u4e00\u76f4\u7684\u5e27\u901f\u7387\u53ef\u4ee5\u63d0\u4f9b\u4ee4\u4eba\u6109\u60a6\u7684\u7528\u6237\u4f53\u9a8c","title":"\u7ed8\u5236\u5230\u5e27\u7f13\u51b2\u5bf9\u8c61"},{"location":"\u76ee\u5f551/draw/#_5","text":"\u4e0b\u56fe\u663e\u793a\u4e86OpenGL ES\u5e94\u7528\u7a0b\u5e8f\u5e94\u5728ios\u4e0a\u5448\u73b0\u548c\u5448\u73b0\u6846\u67b6\u7684\u6b65\u9aa4\uff0c\u8fd9\u4e9b\u6b65\u9aa4\u5305\u62ec\u8bb8\u591a\u63d0\u793a\uff0c \u4ee5\u63d0\u9ad8\u60a8\u7684\u5e94\u8be5\u7a0b\u5e8f\u7684\u7684\u6027\u80fd\u3002","title":"\u6e32\u67d3\u6846\u67b6"},{"location":"\u76ee\u5f551/draw/#_6","text":"\u5728\u6bcf\u5e27\u7684\u5f00\u59cb\u5904\uff0c\u5220\u9664\u6240\u6709\u5e27\u7f13\u51b2\u9644\u4ef6\u7684\u5185\u5bb9\uff0c\u8fd9\u4e9b\u9644\u4ef6\u4e0d\u9700\u8981\u524d\u4e00\u5e27\u7684\u5185\u5bb9\u6765\u7ed8\u5236\u4e0b\u4e00\u5e27\u3002\u8c03\u7528\u8be5 glClear\u51fd\u6570\uff0c\u5e76\u4f20\u5165\u4e00\u4e2a\u5e26\u6709\u6240\u6709\u8981\u6e05\u9664\u7f13\u51b2\u533a\u7684\u4f4d\u63a9\u7801 glBindFramebuffer(GL_FRAMEBUFFER,framebuffer) glClear(GL_DEPTH_BUFFER_BIT|GL_COLOR_BUFFER_BIT); \u4f7f\u7528glClear\u53ef\u4ee5\u4e22\u5f03\u6e32\u67d3\u53bb\u6216\u7eb9\u7406\u7684\u73b0\u6709\u5185\u5bb9\uff0c\u4ece\u800c\u907f\u514d\u4e86\u5c06\u5148\u524d\u5185\u5bb9\u52a0\u8f7d\u5230\u5185\u5b58\u7684\u6602\u8d35\u626b\u9519","title":"\u6e05\u9664\u7f13\u51b2\u533a"},{"location":"\u76ee\u5f551/draw/#_7","text":"\u8fd9\u4e24\u4e2a\u6b65\u9aa4\u5305\u542b\u60a8\u5728\u8bbe\u8ba1\u5e94\u7528\u7a0b\u5e8f\u4f53\u7cfb\u7ed3\u6784\u65f6\u505a\u51fa\u7684\u5927\u591a\u6570\u5173\u952e\u51b3\u7b56\u3002\u9996\u5148\u8981\u786e\u5b9a\u663e\u793a\u7ed9\u7528\u6237\u7684\u5185\u5bb9\uff0c \u5e76\u914d\u7f6e\u76f8\u5e94\u7684OpenGL ES\u5bf9\u8c61\uff08\u4f8b\u5982\u5b9a\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61\uff0c\u7eb9\u7406\uff0c\u7740\u8272\u5668\u7a0b\u5e8f\u53ca\u5176\u8f93\u5165\u53d8\u91cf\uff09\u4ee5\u4e0a\u4f20\u5230GPU \u63a5\u4e0b\u6765\uff0c\u63d0\u4ea4\u56fe\u5f62\u6307\u4ee4\u4ee5\u544a\u77e5GPU\u5982\u4f55\u4f7f\u7528\u8fd9\u4e9b\u8d44\u6e90\u6765\u6e32\u67d3\u6846\u67b6 OpenGL ES\u8bbe\u8ba1\u51c6\u5219\u4e2d\u66f4\u8be6\u7ec6\u7684\u4ecb\u7ecd\u4e86\u6e32\u67d3\u5668\u8bbe\u8ba1\uff0c\u76ee\u524d\uff0c\u6700\u91cd\u8981\u7684\u6027\u80fd\u4f18\u5316\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u60a8\u7684\u5e94\u7528\u4ec5\u5728 \u6e32\u67d3\u65b0\u5e27\u65f6\u624d\u4fee\u6539OpenGL ES\u5bf9\u8c61\uff0c \u5219\u5176\u8fd0\u884c\u901f\u5ea6\u4f1a\u66f4\u5feb\uff0c\u5c3d\u7ba1\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u5728\u4fee\u6539\u5bf9\u8c61\u548c\u63d0\u4ea4\u7ed8\u56fe\u547d\u4ee4\u81f3\u4eca \u8fdb\u884c\u5207\u6362\uff0c \u4f46\u5982\u679c\u6bcf\u5e27\u4ec5\u6267\u884c\u4e00\u6b21\u6bcf\u4e2a\u6b65\u9aa4\uff0c\u5219\u8fd0\u884c\u7684\u901f\u5ea6\u66f4\u5feb\uff08Although your app can alternate between modifying objects and submitting drawing commands (as shown by the dotted line), it runs faster if it only performs each step once.\uff09","title":"\u51c6\u5907\u8d44\u6e90\u5e76\u6267\u884c\u7ed8\u56fe\u547d\u4ee4"},{"location":"\u76ee\u5f551/draw/#_8","text":"\u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u591a\u91cd\u91c7\u6837\u6765\u63d0\u9ad8\u56fe\u50cf\u8d28\u91cf\uff0c\u5219\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5fc5\u987b\u5148\u89e3\u6790\u50cf\u7d20\uff0c\u7136\u540e\u5728\u5c06\u50cf\u7d20\u5c55\u793a\u7ed9\u7528\u6237 \u3002\u4f7f\u7528\u591a\u91cd\u91c7\u6837\u63d0\u9ad8\u56fe\u50cf\u8d28\u91cf\u4e2d\u4ecb\u7ecd\u4e86\u591a\u91cd\u91c7\u6837","title":"\u89e3\u51b3\u591a\u91cd\u91c7\u6837"},{"location":"\u76ee\u5f551/draw/#_9","text":"\u4e00\u4e2a\u4e22\u5f03\u64cd\u4f5c\u662f\u6027\u80fd\u6697\u793a\u544a\u8bc9OpenGL ES\u5373\u4e0d\u5728\u9700\u8981\u4e00\u4e2a\u6216\u591a\u4e2arenderbuffers\u7684\u5185\u5bb9\uff0c\u901a\u8fc7\u5411OpenGL ES \u63d0\u793a\u60a8\u4e0d\u9700\u8981\u6e32\u67d3\u7f13\u51b2\u533a\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u4e22\u5f03\u7f13\u51b2\u533a\u4e2d\u7684\u6570\u636e\uff0c\u5e76\u4e14\u53ef\u4ee5\u907f\u514d\u6267\u884c\u6602\u8d35\u7684\u4efb\u52a1\u6765\u4fdd\u6301\u8fd9\u4e9b\u7f13\u51b2\u533a\u7684 \u5185\u5bb9\u66f4\u65b0 \u5728\u6e32\u67d3\u5faa\u73af\u7684\u9636\u6bb5\uff0c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5df2\u63d0\u4ea4\u4e86\u8be5\u6846\u67b6\u7684\u6240\u6709\u7ed8\u5236\u547d\u4ee4\uff0c\u867d\u7136\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u989c\u8272\u7f13\u51b2\u533a\u624d\u80fd \u663e\u793a\u5728\u5c4f\u5e55\u4e0a\uff0c\u4f46\u53ef\u80fd\u4e0d\u9700\u8981\u6df1\u5ea6\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u3002","title":"\u4e22\u5f03\u4e0d\u9700\u8981\u7684\u6e32\u67d3\u7f13\u51b2\u533a"},{"location":"\u76ee\u5f551/list1/","text":"\u914d\u7f6e\u4e0a\u4e0b\u6587 \u5728\u8c03\u7528\u4efb\u4f55\u7684OpenGL ES\u51fd\u6570\u4e4b\u524d,\u5fc5\u987b\u521d\u59cb\u5316\u4e00\u4e2aEAGLContext\u5bf9\u8c61. \u672cEAGLContext\u7c7b\u63d0\u4f9bOpenGL ES\u7684\u5185\u5bb9\u4e0e\u6838\u5fc3\u52a8\u753b\u7ed3\u5408\u7684\u65b9\u6cd5 EAGLContext* CreateBestEAGLContext() { EAGLContext *context = [[EAGLContext alloc] initWithAPI:kEAGLRenderingAPIOpenGLES3]; if (context == nil) { context = [[EAGLContext alloc] initWithAPI:kEAGLRenderingAPIOpenGLES2]; } return context; } \u8bbe\u7f6e\u5f53\u524d\u4e0a\u4e0b\u6587 [EAGLContext setCurrentContext\uff1amyContext]; \u66f4\u65b0OpenGL ES\u5bf9\u8c61\u7684\u6b65\u9aa4 1,\u5728\u6bcf\u4e2a\u4f7f\u7528\u8be5\u5bf9\u8c61\u7684\u4e0a\u4e0b\u6587\u8c03\u7528glFlush\u51fd\u6570 2,\u5728\u8981\u4fee\u6539\u5bf9\u8c61\u7684\u4e0a\u4e0b\u6587 \u8c03\u7528\u4e00\u4e2a\u6216\u591a\u4e2aOpenGL ES\u51fd\u6570\u6765\u66f4\u6539\u5bf9\u8c61 3,\u8c03\u7528glFlush\u63a5\u53d7\u5230\u72b6\u6001\u4fee\u6539\u547d\u4ee4\u7684\u4e0a\u4e0b\u6587 4,\u5728\u5176\u4ed6\u6240\u6709\u4e0a\u4e0b\u6587\u4e2d,\u91cd\u65b0\u7ed1\u5b9a\u5bf9\u8c61\u6807\u8bc6\u7b26","title":"\u76ee\u5f552.4"},{"location":"\u76ee\u5f551/list1/#_1","text":"\u5728\u8c03\u7528\u4efb\u4f55\u7684OpenGL ES\u51fd\u6570\u4e4b\u524d,\u5fc5\u987b\u521d\u59cb\u5316\u4e00\u4e2aEAGLContext\u5bf9\u8c61. \u672cEAGLContext\u7c7b\u63d0\u4f9bOpenGL ES\u7684\u5185\u5bb9\u4e0e\u6838\u5fc3\u52a8\u753b\u7ed3\u5408\u7684\u65b9\u6cd5 EAGLContext* CreateBestEAGLContext() { EAGLContext *context = [[EAGLContext alloc] initWithAPI:kEAGLRenderingAPIOpenGLES3]; if (context == nil) { context = [[EAGLContext alloc] initWithAPI:kEAGLRenderingAPIOpenGLES2]; } return context; } \u8bbe\u7f6e\u5f53\u524d\u4e0a\u4e0b\u6587 [EAGLContext setCurrentContext\uff1amyContext]; \u66f4\u65b0OpenGL ES\u5bf9\u8c61\u7684\u6b65\u9aa4 1,\u5728\u6bcf\u4e2a\u4f7f\u7528\u8be5\u5bf9\u8c61\u7684\u4e0a\u4e0b\u6587\u8c03\u7528glFlush\u51fd\u6570 2,\u5728\u8981\u4fee\u6539\u5bf9\u8c61\u7684\u4e0a\u4e0b\u6587 \u8c03\u7528\u4e00\u4e2a\u6216\u591a\u4e2aOpenGL ES\u51fd\u6570\u6765\u66f4\u6539\u5bf9\u8c61 3,\u8c03\u7528glFlush\u63a5\u53d7\u5230\u72b6\u6001\u4fee\u6539\u547d\u4ee4\u7684\u4e0a\u4e0b\u6587 4,\u5728\u5176\u4ed6\u6240\u6709\u4e0a\u4e0b\u6587\u4e2d,\u91cd\u65b0\u7ed1\u5b9a\u5bf9\u8c61\u6807\u8bc6\u7b26","title":"\u914d\u7f6e\u4e0a\u4e0b\u6587"},{"location":"\u76ee\u5f551/vertex/","text":"\u9876\u70b9\u6570\u636e\u5b9e\u8df5 \u8981\u4f7f\u7528OpenGLES\u6e32\u67d3\u6846\u67b6,\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4f1a\u914d\u7f6e\u56fe\u5f62\u6e32\u67d3\u7ba1\u9053\u5e76\u63d0\u4ea4\u7ed8\u5236\u7684\u56fe\u5f62\u57fa\u5143. \u5728\u67d0\u4e9b\u5e94\u7528\u7a0b\u5e8f\u4e2d,\u6240\u6709\u57fa\u5143\u90fd\u662f\u4f7f\u7528\u76f8\u540c\u7684\u7ba1\u9053\u914d\u7f6e\u7ed8\u5236\u7684.\u5176\u4ed6\u5e94\u7528\u53ef\u80fd\u4f1a\u4f7f\u7528\u4e0d\u540c\u7684\u6280\u672f\u6765\u6e32\u67d3\u6846\u67b6\u7684\u4e0d\u540c\u5143\u7d20,\u4f46\u662f\u65e0\u8bba\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u54ea\u79cd\u539f\u8bed\u6216\u7ba1\u9053\u7684\u914d\u7f6e\u65b9\u5f0f\u5982\u4f55,\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u90fd\u4f1a\u4e3aOpenGL ES\u63d0\u4f9b\u9876\u70b9,\u672c\u7ae0\u63d0\u4f9b\u6709\u5173\u9876\u70b9\u6570\u636e\u7684\u590d\u4e60,\u5e76\u9488\u5bf9\u5982\u4f55\u6709\u6548\u5904\u7406\u9876\u70b9\u6570\u636e\u63d0\u4f9b\u6709\u9488\u5bf9\u6027\u7684\u5efa\u8bae \u9876\u70b9\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u5c5e\u6027,\u4f8b\u5982\u4f4d\u7f6e,\u989c\u8272,\u6cd5\u7ebf\u6216\u8005\u7eb9\u7406\u5750\u6807.OpenGL ES2.0\u6216OpenGL ES3.0\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u81ea\u7531\u5b9a\u4e49\u81ea\u5df1\u7684\u5c5e\u6027,\u9876\u70b9\u6570\u636e\u4e2d\u7684\u6bcf\u4e2a\u5c5e\u6027\u90fd\u5bf9\u5e94\u4e00\u4e2a\u5c5e\u6027\u53d8\u91cf,\u8be5\u53d8\u91cf\u5145\u5f53\u9876\u70b9\u7740\u8272\u5668\u7684\u8f93\u5165 OpenGL 1.1\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u7531\u56fa\u5b9a\u529f\u80fd\u7ba1\u9053\u5b9a\u4e49\u7684\u5c5e\u6027 \u60a8\u5c06\u5c5e\u6027\u5b9a\u4e49\u4e3a\u7531\u4e00\u5230\u56db\u4e2a\u7ec4\u6210\u90e8\u5206\u7ec4\u6210\u7684\u5411\u91cf.\u5c5e\u6027\u4e2d\u7684\u6240\u6709\u7ec4\u4ef6\u5171\u4eab\u4e00\u4e2a\u516c\u5171\u6570\u636e\u7c7b\u578b,\u4f8b\u5982\u4e00\u79cd\u989c\u8272\u53ef\u80fd\u5b9a\u4e49\u56db\u4e2aGLubyte\u6210\u5206(\u7ea2\u8272,\u7eff\u8272,\u84dd\u8272,alpha).\u5c06\u5c5e\u6027\u52a0\u8f7d\u5230\u7740\u8272\u5668\u53d8\u91cf\u4e2d\u65f6,OpenGLES\u5c06\u9ed8\u8ba4\u503c\u586b\u5145\u5e94\u7528\u7a0b\u5e8f\u6570\u636e\u672a\u63d0\u4f9b\u7684\u4efb\u4f55\u7ec4\u4ef6.\u5982\u56fe\u6240\u793a,\u6700\u540e\u4e00\u4e2a\u7ec4\u4ef6\u88ab\u586b\u51451,\u5176\u4ed6\u672a\u6307\u5b9a\u7684\u7ec4\u4ef6\u88ab\u586b\u51450 \u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u5c06\u5c5e\u6027\u914d\u7f6e\u4e3a\u5e38\u91cf,\u8fd9\u610f\u5473\u7740\u5c06\u76f8\u540c\u7684\u503c\u7528\u4e8e\u4f5c\u4e3adraw\u547d\u4ee4\u4e00\u90e8\u5206\u63d0\u4ea4\u7684\u6240\u6709\u5b9a\u70b9\u6216\u6570\u7ec4,\u8fd9\u610f\u5473\u7740\u6bcf\u4e2a\u5b9a\u70b9\u90fd\u662f\u8be5\u5c5e\u6027\u7684\u503c.\u5f53\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5728OpenGLES \u4e2d\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\u7ed8\u5236\u4e00\u7ec4\u9876\u70b9\u65f6,\u9876\u70b9\u6570\u636e\u5c06\u4ece\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u590d\u5236\u5230\u56fe\u5f62\u786c\u4ef6.\u7136\u540e,\u56fe\u5f62\u786c\u4ef6\u4f1a\u4f5c\u7528\u4e8e\u9876\u70b9\u6570\u636e,\u5728\u7740\u8272\u5668\u4e2d\u5904\u7406\u6bcf\u4e2a\u5b9a\u70b9,\u7ec4\u88c5\u56fe\u5143\u5e76\u5c06\u5176\u5149\u6805\u5316\u5230\u5e27\u7f13\u51b2\u533a\u4e2d.OpenGLES\u7684\u4e00\u4e2a\u4f18\u70b9\u662f,\u5b83\u6807\u51c6\u5316\u4e86\u4e00\u7ec4\u51fd\u6570\u4ee5\u5c06\u9876\u70b9\u6570\u636e\u63d0\u4ea4\u7ed9OpenGLES,\u4ece\u800c\u6d88\u9664\u4e86OpenGL\u63d0\u4f9b\u7684\u8f83\u65e7\u4e14\u6548\u7387\u8f83\u4f4e\u7684\u673a\u5236 \u5fc5\u987b\u63d0\u4ea4\u5927\u91cf\u56fe\u5143\u4ee5\u6e32\u67d3\u6846\u67b6\u7684\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u4ed4\u7ec6\u7ba1\u7406\u5176\u9876\u70b9\u6570\u636e\u4ee5\u53ca\u5982\u4f55\u5c06\u5176\u63d0\u4f9b\u7ed9OpenGLES.\u672c\u7ae0\u63cf\u8ff0\u7684\u65f6\u95f4\u53ef\u4ee5\u5f52\u7eb3\u4e3a\u4e00\u4e9b\u57fa\u672c\u539f\u5219 \u51cf\u5c11\u9876\u70b9\u6570\u636e\u7684\u5927\u5c0f \u51cf\u5c11\u5728OpenGLES\u53ef\u4ee5\u5c06\u9876\u70b9\u6570\u636e\u4f20\u8f93\u5230\u56fe\u5f62\u786c\u4ef6\u4e4b\u524d\u5fc5\u987b\u8fdb\u884c\u7684\u9884\u5904\u7406 \u51cf\u5c11\u5c06\u9876\u70b9\u6570\u636e\u590d\u5236\u5230\u56fe\u5f62\u786c\u4ef6\u6240\u82b1\u8d39\u7684\u65f6\u95f4 \u51cf\u5c11\u5bf9\u6bcf\u4e2a\u9876\u70b9\u6267\u884c\u7684\u8ba1\u7b97 \u7b80\u5316\u6a21\u578b \u57fa\u4e8eios\u7684\u8bbe\u5907\u7684\u56fe\u5f62\u786c\u4ef6\u975e\u5e38\u5f3a\u5927,\u4f46\u662f\u5176\u663e\u793a\u7684\u56fe\u50cf\u901a\u5e38\u5f88\u5c0f.\u60a8\u4e0d\u9700\u8981\u6781\u7aef\u590d\u6742\u7684\u6a21\u578b\u5373\u53ef\u5728ios\u4e0a\u5448\u73b0\u5f15\u4eba\u6ce8\u76ee\u7684\u56fe\u5f62,\u51cf\u5c11\u7528\u4e8e\u7ed8\u5236\u6a21\u578b\u7684\u9876\u70b9\u6570\u91cf\u53ef\u76f4\u63a5\u51cf\u5c11\u9876\u70b9\u6570\u636e\u7684\u5927\u5c0f\u4ee5\u53ca\u5bf9\u9876\u70b9\u6570\u636e\u6267\u884c\u7684\u8ba1\u7b97 \u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u4e00\u4e9b\u6280\u672f\u6765\u964d\u4f4e\u6a21\u578b\u7684\u590d\u6742\u6027: \u63d0\u4f9b\u4e0d\u540c\u7ea7\u522b\u7ec6\u8282\u7684\u6a21\u578b\u7684\u591a\u4e2a\u7248\u672c,\u5e76\u5728\u8fd0\u884c\u65f6\u6839\u636e\u5bf9\u8c61\u4e0e\u6444\u50cf\u673a\u7684\u8ddd\u79bb\u548c\u663e\u793a\u5668 \u7684\u5c3a\u5bf8\u9009\u62e9\u5408\u9002\u7684\u6a21\u578b \u4f7f\u7528\u7eb9\u7406\u6d88\u9664\u5bf9\u67d0\u4e9b\u9876\u70b9\u4fe1\u606f\u7684\u9700\u6c42,\u4f8b\u5982,\u51f9\u51f8\u8d34\u9762\u7528\u4e8e\u5728\u4e0d\u6dfb\u52a0\u66f4\u591a\u9876\u70b9\u6570\u636e\u7684\u60c5\u51b5\u4e0b\u5411\u6a21\u578b\u6dfb\u52a0\u7ec6\u8282 \u4e00\u4e9b\u6a21\u578b\u6dfb\u52a0\u5230\u9876\u70b9\u4ee5\u6539\u5584\u5149\u7167\u7ec6\u8282\u6216\u6e32\u67d3\u8d28\u91cf.\u901a\u5e38,\u5f53\u5728\u6805\u683c\u5316\u9636\u6bb5\u4e3a\u6bcf\u4e2a\u9876\u70b9\u8ba1\u7b97\u503c\u5e76\u5728\u4e09\u89d2\u5f62\u4e0a\u8fdb\u884c\u63d2\u503c\u65f6,\u4fbf\u53ef\u4ee5\u6267\u884c\u6b64\u64cd\u4f5c.\u4f8b\u5982,\u5982\u679c\u5c06\u805a\u5149\u706f\u6307\u5411\u4e09\u89d2\u5f62\u7684\u4e2d\u5fc3,\u5219\u5176\u6548\u679c\u53ef\u80fd\u4e0d\u4f1a\u88ab\u6ce8\u610f\u5230,\u56e0\u4e3a\u805a\u5149\u706f\u7684\u6700\u4eae\u90e8\u5206\u6ca1\u6709\u6307\u5411\u9876\u70b9.\u901a\u8fc7\u6dfb\u52a0\u9876\u70b9,\u60a8\u53ef\u4ee5\u63d0\u4f9b\u66f4\u591a\u7684\u63d2\u503c\u70b9,\u4f46\u4ee3\u4ef7\u662f\u589e\u52a0\u4e86\u9876\u70b9\u6570\u636e\u548c\u5728\u6a21\u578b\u4e0a\u6267\u884c\u7684\u8ba1\u7b97\u7684\u5927\u5c0f.\u4e0e\u5176\u6dfb\u52a0\u5176\u4ed6\u9876\u70b9,\u4e0d\u5982\u8003\u8651\u5c06\u8ba1\u7b97\u79fb\u81f3\u7ba1\u9053\u7684\u7247\u6bb5\u9636\u6bb5 \u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528OpenGLES 2.0\u6216\u66f4\u9ad8\u7248\u672c,\u5219\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u6267\u884c\u8ba1\u7b97\u5e76\u5c06\u5176\u5206\u914d\u7ed9\u53ef\u53d8\u53d8\u91cf.\u56fe\u5f62\u786c\u4ef6\u5bf9\u53d8\u5316\u7684\u503c\u8fdb\u884c\u63d2\u503c,\u5e76\u5c06\u5176\u4f5c\u4e3a\u8f93\u5165\u4f20\u9012\u7ed9\u7247\u6bb5\u7740\u8272\u5668.\u800c\u662f\u5c06\u8ba1\u7b97\u7684\u8f93\u5165\u5206\u914d\u7ed9\u53ef\u53d8\u53d8\u91cf.\u7136\u540e\u5728\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u6267\u884c\u8ba1\u7b97 \u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528OpenGLES 1.1,\u5219\u53ef\u4ee5\u4f7f\u7528DOT3\u7167\u660e\u6267\u884c\u6bcf\u7247\u6bb5\u7167\u660e,\u4e3a\u6b64,\u60a8\u53ef\u4ee5\u6dfb\u52a0\u51f9\u51f8\u8d34\u56fe\u7eb9\u7406\u4ee5\u4fdd\u5b58\u5e38\u89c4\u4fe1\u606f,\u5e76\u4f7f\u7528\u7eb9\u7406\u5e76\u5408\u5e76\u64cd\u4f5c\u548cGL_DOT3_RGB\u6a21\u5f0f\u6765\u5e94\u7528\u51f9\u51f8\u8d34\u56fe \u907f\u514d\u5728\u5c5e\u6027\u6570\u7ec4\u4e2d\u5b58\u50a8\u5e38\u91cf \u5982\u679c\u60a8\u7684\u6a21\u578b\u5305\u542b\u4f7f\u7528\u5728\u6574\u4e2a\u6a21\u578b\u4e2d\u4fdd\u6301\u4e0d\u53d8\u7684\u6570\u636e\u7684\u5c5e\u6027,\u8bf7\u4e0d\u8981\u4e3a\u6bcf\u4e2a\u5b9a\u70b9\u91cd\u590d\u91cd\u590d\u8be5\u6570\u636e.OpenGLES2.0\u548c3.0\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u8bbe\u7f6e\u6052\u5b9a\u7684\u5b9a\u70b9\u5c5e\u6027,\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7edf\u4e00\u7684\u7740\u8272\u5668\u503c\u6765\u4fdd\u5b58\u8be5\u503c \u5bf9\u5c5e\u6027\u4f7f\u7528\u6700\u5c0f\u53ef\u63a5\u53d7\u7c7b\u578b \u6307\u5b9a\u5c5e\u6027\u7684\u6bcf\u4e2a\u7ec4\u4ef6\u7684\u5927\u5c0f\u65f6,\u8bf7\u9009\u62e9\u53ef\u63d0\u4f9b\u53ef\u63a5\u53d7\u7ed3\u679c\u7684\u6700\u5c0f\u6574\u6570\u6570\u636e\u7c7b\u578b,\u4e00\u4e0b\u662f\u4e00\u4e9b\u51c6\u5219: \u4f7f\u7528\u56db\u4e2a\u65e0\u7b26\u53f7\u5b57\u8282\u5206\u91cf(GL_UNSIGNED_BYTE)\u6307\u5b9a\u9876\u70b9\u989c\u8272 \u4f7f\u75282\u62164\u4e2a\u65e0\u7b26\u53f7\u5b57\u8282(GL_UNSIGNED_BYTE)\u6216\u65e0\u7b26\u53f7short(GL_UNSIGNED_SHORT)\u6307\u5b9a\u7eb9\u7406\u5750\u6807. \u907f\u514d\u4f7f\u7528OpenGLES GL_FIXED\u6570\u636e\u7c7b\u578b,\u5b83\u9700\u8981\u4e0e\u76f8\u540c\u6570\u91cf\u7684\u5185\u5b58GL_FLOAT,\u4f46\u63d0\u4f9b\u7684\u503c\u8303\u56f4\u8f83\u5c0f,\u6240\u6709ios\u8bbe\u5907\u5747\u652f\u6301\u786c\u4ef6\u6d6e\u70b9\u5355\u5143,\u56e0\u6b64\u53ef\u4ee5\u66f4\u5feb\u7684\u5904\u7406\u6d6e\u70b9\u503c OpenGLES 3.0\u4e0a\u4e0b\u6587\u652f\u6301\u66f4\u5e7f\u6cdb\u7684\u5c0f\u578b\u6570\u636e\u7c7b\u578b,\u4f8b\u5982GL_HLOAT\u548cGL_INT_2_10_10_10_REV.\u8fd9\u4e9b\u901a\u5e38\u53ef\u4e3a\u5c5e\u6027(\u4f8b\u5982\u53d1\u73b0)\u63d0\u4f9b\u8db3\u591f\u7684\u7cbe\u5ea6,\u4e14\u5360\u7528\u7684\u7a7a\u95f4\u5c0f\u4e8eGL_FLOAT \u5982\u679c\u6307\u5b9a\u8f83\u5c0f\u7684\u7ec4\u4ef6,\u8bf7\u786e\u4fdd\u5bf9\u9876\u70b9\u683c\u5f0f\u91cd\u65b0\u5b89\u6392,\u4ee5\u8868\u9762\u672a\u5bf9\u5176\u9876\u70b9\u6570\u636e \u4f7f\u7528\u4ea4\u9519\u9876\u70b9\u6570\u636e \u60a8\u53ef\u4ee5\u5c06\u9876\u70b9\u6570\u636e\u6307\u5b9a\u4e3a\u4e00\u7cfb\u5217\u6570\u7ec4(\u4e5f\u79f0array\u7684struct),\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e3a\u6bcf\u4e2a\u5143\u7d20\u5305\u542b\u591a\u4e2a\u5c5e\u6027\u7684\u6570\u7ec4(struct\u7684\u6570\u7ec4).ios\u4e0a\u7684\u9996\u9009\u683c\u5f0f\u662f\u5177\u6709\u5355\u4e2a\u4ea4\u9519\u9876\u70b9\u683c\u5f0f\u7684\u7ed3\u6784\u6570\u7ec4,ios\u4e0a\u7684\u9996\u9009\u683c\u5f0f\u662f\u5177\u6709\u5355\u4e2a\u4ea4\u9519\u9876\u70b9\u7684\u7ed3\u6784\u6570\u7ec4.\u4ea4\u9519\u6570\u636e\u4e3a\u6bcf\u4e2a\u5b9a\u70b9\u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u5185\u5b58\u5c40\u90e8\u6027 \u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u4ee5\u4e0d\u540c\u4e8e\u5176\u4f59\u9876\u70b9\u6570\u636e\u7684\u901f\u7387\u66f4\u65b0\u67d0\u4e9b\u9876\u70b9\u6570\u636e,\u6216\u8005\u67d0\u4e9b\u6570\u636e\u53ef\u4ee5\u5728\u4e24\u4e2a\u6216\u591a\u4e2a\u6a21\u578b\u4e4b\u95f4\u5171\u4eab,\u5219\u6b64\u89c4\u5219\u4f8b\u5916,\u65e0\u8bba\u54ea\u79cd\u60c5\u51b5,\u60a8\u90fd\u53ef\u80fd\u5e0c\u671b\u5c06\u5c5e\u6027\u6570\u636e\u5206\u6210\u4e24\u4e2a\u6216\u591a\u4e2a\u7ed3\u6784 \u907f\u514d\u672a\u5bf9\u9f50\u7684\u5b9a\u70b9\u6570\u636e \u5728\u8bbe\u8ba1\u9876\u70b9\u7ed3\u6784\u65f6,\u8bf7\u5c06\u6bcf\u4e2a\u5c5e\u6027\u7684\u5f00\u5934\u4e0e\u4e00\u4e2a\u504f\u79fb\u91cf\u5bf9\u9f50,\u8be5\u504f\u79fb\u91cf\u53ef\u4ee5\u662f\u5176\u7ec4\u4ef6\u5927\u5c0f\u7684\u500d\u6570\u62164\u4e2a\u5b57\u8282,\u4ee5\u8f83\u5927\u8005\u4e3a\u51c6,\u5f53\u5c5e\u6027\u672a\u5bf9\u9f50\u65f6,ios\u5fc5\u987b\u5148\u6267\u884c\u5176\u4ed6\u5904\u7406,\u7136\u540e\u518d\u5c06\u6570\u636e\u4f20\u9012\u5230\u56fe\u5f62\u786c\u4ef6 \u5728\u4e0b\u56fe\u4e2d,\u4f4d\u7f6e\u548c\u6cd5\u7ebf\u6570\u636e\u5206\u522b\u5b9a\u4e49\u4e3a\u4e09\u4e2a\u77ed\u6574\u6570,\u603b\u51716\u4e2a\u5b57\u8282.\u666e\u901a\u6570\u636e\u4ee5offset\u5f00\u59346,\u8be5\u504f\u79fb\u91cf\u662f\u672c\u673a\u5927\u5c0f(2\u4e2a\u5b57\u8282)\u7684\u500d\u6570,\u4f46\u4e0d\u662f4\u4e2a\u5b57\u8282\u7684\u500d\u6570,\u5982\u679c\u5c06\u6b64\u6570\u636e\u63d0\u4ea4\u7ed9ios,\u5219ios\u5c06\u5728\u6570\u636e\u4f20\u9012\u5230\u786c\u4ef6\u4e4b\u524d\u4e0d\u5f97\u4e0d\u82b1\u8d39\u989d\u5916\u7684\u65f6\u95f4\u6765\u590d\u5236\u548c\u5bf9\u9f50\u6570\u636e,\u8981\u89e3\u51b3\u6b64\u95ee\u9898,\u8bf7\u5728\u6ca1\u4e2a\u5c5e\u6027\u540e\u9762\u663e\u793a\u6dfb\u52a0\u4e24\u4e2a\u586b\u5145\u5b57\u8282 \u4f7f\u7528\u4e09\u89d2\u5e26\u6279\u5904\u7406\u9876\u70b9\u6570\u636e \u4f7f\u7528\u4e09\u89d2\u5f62\u6761\u7eb9\u53ef\u4ee5\u663e\u8457\u51cf\u5c11OpenGLES\u5fc5\u987b\u5728\u6a21\u578b\u4e0a\u6267\u884c\u7684\u5b9a\u70b9\u8ba1\u7b97\u6b21\u6570,\u5728\u4e0b\u56fe\u7684\u5de6\u4fa7\u4f7f\u7528\u603b\u51719\u4e2a\u5b9a\u70b9\u6307\u5b9a\u4e86\u4e09\u4e2a\u4e09\u89d2\u5f62,C,E\u548cG\u5b9e\u9645\u4e0a\u6307\u5b9a\u4e86\u76f8\u540c\u7684\u5b9a\u70b9!\u901a\u8fc7\u5c06\u6570\u636e\u6307\u5b9a\u4e3a\u4e09\u89d2\u5f62\u5e26,\u53ef\u4ee5\u5c06\u9876\u70b9\u6570\u4ece9\u4e2a\u51cf\u5c11\u4e3a5\u4e2a \u6709\u65f6,\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u5c06\u591a\u4e2a\u4e09\u89d2\u5f62\u5e26\u7ec4\u5408\u4e3a\u4e00\u4e2a\u8f83\u5927\u7684\u4e09\u89d2\u5f62\u5e26,\u6240\u6709\u6761\u5e26\u5fc5\u987b\u5171\u4eab\u76f8\u540c\u7684\u6e32\u67d3\u8981\u6c42,\u8fd9\u8868\u793a \u60a8\u5fc5\u987b\u4f7f\u7528\u76f8\u540c\u7684\u7740\u8272\u5668\u6765\u7ed8\u5236\u6240\u6709\u4e09\u89d2\u5e26 \u60a8\u5fc5\u987b\u80fd\u591f\u5728\u4e0d\u66f4\u6539\u4efb\u4f55OpenGL\u72b6\u6001\u7684\u60c5\u51b5\u4e0b\u6e32\u67d3\u6240\u6709\u4e09\u89d2\u5e26 \u4e09\u89d2\u5e26\u5fc5\u987b\u5171\u4eab\u76f8\u540c\u7684\u5b9a\u70b9\u5c5e\u6027 \u8981\u5408\u5e76\u4e24\u4e2a\u4e09\u89d2\u884c\u6761,\u8bf7\u590d\u5236\u7b2c\u4e00\u4e2a\u6761\u7684\u6700\u540e\u4e00\u4e2a\u9876\u70b9\u548c\u7b2c\u4e8c\u4e2a\u6761\u7684\u7b2c\u4e00\u4e2a\u9876\u70b9,\u5982\u4e0b\u56fe\u6240\u793a,\u5c06\u6b64\u6761\u63d0\u4ea4\u7ed9OpenGLES\u65f6,\u4e09\u89d2\u5f62DEE,EEF,EFF\u548cFFG\u88ab\u8ba4\u4e3a\u662f\u9000\u5316\u7684,\u6ca1\u6709\u7ecf\u8fc7\u5904\u7406\u6216\u6805\u683c\u5316 \u4e3a\u4e86\u83b7\u5f97\u6700\u4f73\u6027\u80fd,\u60a8\u7684\u6a21\u578b\u5e94\u4f5c\u4e3a\u5355\u4e2a\u7d22\u5f15\u4e09\u89d2\u5e26\u63d0\u4ea4.\u4e3a\u907f\u514d\u5728\u9876\u70b9\u7f13\u51b2\u533a\u4e2d\u591a\u6b21\u4e3a\u540c\u4e00\u4e2a\u9876\u70b9\u6307\u5b9a\u6570\u636e,\u8bf7\u4f7f\u7528\u5355\u72ec\u7684\u7d22\u5f15\u7f13\u51b2\u533a,\u5e76\u4f7f\u7528glDrawElements\u51fd\u6570(\u6216glDrawElementsInstanced\u6216glDrawRangeElements\u51fd\u6570,\u5982\u679c\u5408\u9002)\u7ed8\u5236\u4e09\u89d2\u5f62\u5e26 \u5728OpenGLES 3.0\u4e2d,\u60a8\u53ef\u4ee5\u4f7f\u7528\u539f\u59cb\u91cd\u542f\u529f\u80fd\u6765\u5408\u5e76\u4e09\u89d2\u5f62\u5e26,\u800c\u65e0\u9700\u4f7f\u7528\u9000\u5316\u4e09\u89d2\u5f62.\u542f\u7528\u6b64\u529f\u80fd\u540e,OpenGLES\u4f1a\u5c06\u7d22\u5f15\u7f13\u51b2\u533a\u4e2d\u7684\u6700\u5927\u53ef\u80fd\u503c\u89c6\u4e3a\u547d\u4ee4\u6765\u5b8c\u6210\u4e00\u4e2a\u4e09\u89d2\u5f62\u5e26\u5e76\u5f00\u59cb\u53e6\u4e00\u4e2a\u4e09\u89d2\u5f62\u5e26,\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u8fd9\u79cd\u65b9\u6cd5 //\u51c6\u5907\u7d22\u5f15\u7f13\u51b2\u533a\u6570\u636e\uff08\u672a\u663e\u793a\uff1a\u9876\u70b9\u7f13\u51b2\u533a\u6570\u636e\uff0c\u52a0\u8f7d\u9876\u70b9\u548c\u7d22\u5f15\u7f13\u51b2\u533a\uff09 GLushort indexData [11] = { 0\uff0c1\uff0c2\uff0c3\uff0c4\uff0c//\u4e09\u89d2\u5e26ABCDE 0xFFFF\uff0c//\u57fa\u672c\u91cd\u542f\u7d22\u5f15\uff08\u53ef\u80fd\u7684\u6700\u5927GLushort\u503c\uff09 5\uff0c6\uff0c7\uff0c8\uff0c9\uff0c//\u4e09\u89d2\u5e26FGHIJ }; //\u7ed8\u5236\u4e09\u89d2\u5f62\u6761 glEnable\uff08GL_PRIMITIVE_RESTART_FIXED_INDEX\uff09; glDrawElements\uff08GL_TRIANGLE_STRIP\uff0c11\uff0cGL_UNSIGNED_SHORT\uff0c0\uff09; \u5728\u53ef\u80fd\u7684\u60c5\u51b5\u4e0b,\u5bf9\u9876\u70b9\u548c\u7d22\u5f15\u6570\u636e\u8fdb\u884c\u6392\u5e8f,\u4ee5\u4fbf\u5728\u4e09\u89d2\u5f62\u5e26\u4e2d\u5408\u7406\u7684\u7ed8\u5236\u5f7c\u6b64\u4e34\u8fd1\u7684\u5171\u4eab\u9876\u70b9\u7684\u4e09\u89d2\u5f62.\u56fe\u5f62\u786c\u4ef6\u901a\u5e38\u4f1a\u7f13\u5b58\u6700\u8fd1\u7684\u5b9a\u70b9\u8ba1\u7b97,\u4ee5\u907f\u514d\u91cd\u65b0\u8ba1\u7b97\u9876\u70b9 \u4f7f\u7528\u5b9a\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61\u6765\u7ba1\u7406\u590d\u5236\u5b9a\u70b9\u6570\u636e \u4e0b\u9762\u4ee3\u78018-2\u63d0\u4f9b\u4e86\u4e00\u4e2a\u529f\u80fd,\u7b80\u5355\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u4f7f\u7528\u8be5\u529f\u80fd\u5411\u9876\u70b9\u7740\u8272\u5668\u63d0\u4f9b\u4f4d\u7f6e\u548c\u989c\u8272\u6570\u636e.\u5b83\u542f\u7528\u4e24\u4e2a\u5c5e\u6027.\u5e76\u5c06\u6bcf\u4e2a\u5c5e\u6027\u914d\u7f6e\u4e3a\u6307\u5411\u4ea4\u9519\u7684\u5b9a\u70b9\u7ed3\u6784,\u6700\u540e\u4ed6\u8c03\u7528\u8be5glDrawElements\u51fd\u6570\u4ee5\u5c06\u6a21\u578b\u6e32\u67d3\u4e3a\u5355\u4e2a\u4e09\u89d2\u5f62\u5e26 typedef struct _vertexStruct { GLfloat position[2]; GLubyte color[4]; }vertexStruct; void DrawModel(){ const vertexStruct vertices[] = {...}; const GLubyte indices[] = {...}; glVertexAttribPointer(GLKVertexAttribPosition,2,GL_FLOAT,GL_FALSE,sizeof(vertexStruct),&vertices[0].position); glEnableVertexAttribArray(GLKVertexAttribPosition); glEnableAttribPointer(GLKVertexAttribColor,4,GL_UNSIGNED_BYTE, GL_TRUE,sizeof(vertexStruct),&vertices[0].color); glEnableVertexAttribArray(GLKVertexAttribColor); glDrawElements(GL_TRIANGLE_STRIP,sizeof(indices)/sizeof(GLubyte),GL_UNSIGNED_BYTE,indices); } \u8be5\u4ee3\u7801\u6709\u6548,\u4f46\u662f\u6548\u7387\u4f4e\u4e0b.\u6bcf\u6b21DrawModel\u8c03\u7528\u65f6,\u7d22\u5f15\u548c\u9876\u70b9\u6570\u636e\u90fd\u4f1a\u590d\u5236\u5230OpenGLES,\u7136\u540e\u4f20\u8f93\u5230\u56fe\u5f62\u786c\u4ef6.\u5982\u679c\u5b9a\u70b9\u6570\u636e\u5728\u4e24\u6b21\u8c03\u7528\u4e4b\u95f4\u6ca1\u6709\u53d8\u5316,\u5219\u8fd9\u4e9b\u4e0d\u5fc5\u8981\u7684\u526f\u672c\u4f1a\u5f71\u54cd\u6027\u80fd.\u4e3a\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u590d\u5236,\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5e94\u5c06\u5176\u9876\u70b9\u6570\u636e\u5b58\u50a8\u5728\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61(VBO),\u56e0\u4e3aOpenGLES\u62e5\u6709\u9876\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61\u7684\u5185\u5b58,\u6240\u4ee5\u5b83\u53ef\u4ee5\u5c06\u7f13\u51b2\u533a\u5b58\u50a8\u5728\u56fe\u5f62\u786c\u4ef6\u66f4\u6613\u4e8e\u8bbf\u95ee\u7684\u5185\u5b58\u4e2d,\u6216\u5c06\u6570\u636e\u9884\u5904\u7406\u4e3a\u56fe\u5f62\u786c\u4ef6\u7684\u9996\u9009\u683c\u5f0f \u6ce8\u610f:\u5728OpenGLES3.0\u4e2d\u4f7f\u7528\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\u65f6,\u8fd8\u5fc5\u987b\u4f7f\u7528\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61. \u4e0b\u9762\u7684\u4ee3\u78018-3\u521b\u5efa\u4e86\u4e00\u5bf9\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61,\u4e00\u4e2a\u7528\u4e8e\u4fdd\u5b58\u9876\u70b9\u6570\u636e,\u7b2c\u4e8c\u4e2a\u7528\u4e8e\u5b58\u50a8\u6761\u7684\u7d22\u5f15,\u5728\u6bcf\u79cd\u60c5\u51b5\u4e0b,\u4ee3\u7801\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u5bf9\u8c61,\u5c06\u5176\u7ed1\u5b9a\u4e3a\u5f53\u524d\u7f13\u51b2\u533a,\u7136\u540e\u586b\u5145\u7f13\u51b2\u533a,CreateVertexBuffers\u5e94\u7528\u521d\u59cb\u5316\u65f6\u4f1a\u88ab\u8c03\u7528 GLuint vertexBuffer; GLuint indexBuffer; void CreateVertexBuffers(){ glGenBuffers(1, &vertexBuffer); glBindBuffer(GL_ARRAY_BUFFER, vertexBuffer); glBufferData(GL_ARRAY_BUFFER, sizeof(vertices),vertices,GL_STATIC_DRAW); glGenbuffers(1, &indexBuffer); glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexBuffer); glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices),indices,GL_STATIC_DRAW); } \u4e0b\u9762\u7684\u4ee3\u78018-4\u4fee\u6539\u4e86\u4ee3\u78018-2\u4f7f\u7528\u5b9a\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61,\u4ee3\u78018-4\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e,glVertexAttribPointer\u51fd\u6570\u7684\u53c2\u6570\u4e0d\u518d\u6307\u5411\u9876\u70b9\u6570\u7ec4.\u76f8\u53cd,\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u662f\u9876\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61\u7684\u504f\u79fb\u91cf void drawModelUsingvertexBuffer(){ glBindBuffer(GL_ARRAY_BUFFER,vertexBuffer); glVertexattribPointer(GLKVertexAttribPosition,2,GL_FLOAT,GL_FALSE,sizeof(vertexStruct),(void*)offsetof(vertexStruct,position)); glEnableVertexAttribArray(GLKVertexAttribPosition); glVertexattribPointer(GLKVertexAttribColor,GL_UNSIGNED_BYTE,GL_TRUE,sizeof(vertexStruct),(void*)offsetof(vertexStruct,color)); glEnableVertexAttribArray(GLKVertexAttribColor); glBindBuffer(GL_ELEMENT_ARRAY_BUFFER,indexBuffer); glDrawElements(GL_TRIANGLE_STRIP,sizeof(indices)/sizeof(GLubyte),GL_UNSIGNED_BYTE,(void *)0); } \u7f13\u51b2\u533a\u4f7f\u7528\u63d0\u793a \u524d\u9762\u7684\u5b9e\u4f8b\u4e00\u6b21\u521d\u59cb\u5316\u4e86\u9876\u70b9\u7f13\u51b2\u533a,\u6b64\u540e\u4ece\u672a\u66f4\u6539\u5176\u5185\u5bb9,\u60a8\u53ef\u4ee5\u66f4\u6539\u9876\u70b9\u7f13\u51b2\u533a\u7684\u5185\u5bb9.\u9876\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61\u8bbe\u8ba1\u7684\u5173\u952e\u90e8\u5206\u662f\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u901a\u77e5OpenGLES3\u5982\u4f55\u4f7f\u7528\u7f13\u51b2\u533a\u4e2d\u5b58\u50a8\u7684\u6570\u636e,OpenGLES\u5b9e\u73b0\u53ef\u4ee5\u4f7f\u7528\u6b64\u63d0\u793a\u6765\u66f4\u6539\u7528\u4e8e\u5b58\u50a8\u9876\u70b9\u6570\u636e\u7684\u4fa7\u7387,\u5728\u4ee3\u78018-3\u4e2d,\u5bf9glBufferData\u51fd\u6570\u7684\u6bcf\u6b21\u8c03\u7528\u90fd\u63d0\u4f9b\u7528\u6cd5\u63d0\u793a\u4f5c\u4e3a\u6700\u540e\u4e00\u4e2a\u53c2\u6570,\u4f20\u9012GL_STATIC_DRAW\u5230glBufferData\u544a\u8bc9OpenGLES\u8fd9\u4e24\u4e2a\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u4ece\u6765\u6ca1\u60f3\u8fc7\u8981\u6539\u53d8,\u8fd9\u7ed9OpenGLES\u7684\u66f4\u591a\u673a\u4f1a,\u4ee5\u4f18\u5316\u5982\u4f55\u4ee5\u53ca\u5728\u4f55\u5904\u5b58\u50a8\u6570\u636e OpenGLES\u89c4\u8303\u5b9a\u4e49\u4e86\u4ee5\u4e0b\u4f7f\u7528\u60c5\u51b5: GL_STATIC_DRAW\u9002\u7528\u4e8e\u591a\u6b21\u6e32\u67d3\u4e14\u5176\u5185\u5bb9\u4ec5\u6307\u5b9a\u4e00\u6b21\u4e14\u6c38\u4e0d\u66f4\u6539\u7684\u9876\u70b9\u7f13\u51b2\u533a GL_DYNAMIC_DRAW\u7528\u4e8e\u591a\u6b21\u6e32\u67d3\u7684\u5b9a\u70b9\u7f13\u51b2\u533a,\u5176\u5185\u5bb9\u5728\u6e32\u67d3\u5faa\u73af\u4e2d\u4f1a\u66f4\u6539 GL_STREAM_DRAW\u7528\u4e8e\u9876\u70b9\u7f13\u51b2\u533a,\u6e32\u67d3\u6b21\u6570\u5f88\u5c11,\u7136\u540e\u4e22\u5f03 \u5728ios\u4e2dGL_DYNAMIC_DRAW\u5e76\u4e14GL_STREAM_DRAW\u662f\u7b49\u4ef7\u7684.\u60a8\u53ef\u4ee5\u4f7f\u7528glBufferSubData\u51fd\u6570\u6765\u66f4\u65b0\u7f13\u51b2\u533a\u5185\u5bb9,\u4f46\u662f\u8fd9\u6837\u505a\u4f1a\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d,\u56e0\u4e3a\u4ed6\u5237\u65b0\u547d\u4ee4\u7f13\u51b2\u533a\u5e76\u7b49\u5f85\u6240\u6709\u547d\u4ee4\u5b8c\u6210.\u53cc\u91cd\u6216\u4e09\u6b21\u7f13\u51b2\u533a\u53ef\u4ee5\u7a0d\u5fae\u964d\u4f4e\u6b64\u6027\u80fd\u6210\u672c,(\u8bf7\u53c2\u9605\u4f7f\u7528\u53cc\u7f13\u51b2\u533a\u4ee5\u907f\u514d\u8d44\u6e90\u51b2\u7a81),\u4e3a\u4e86\u83b7\u53d6\u66f4\u597d\u7684\u6027\u80fd,\u8bf7\u4f7f\u7528glMapBufferrange OpenGLES\u4e2d\u7684\u529f\u80fdEXT_map_buffer_range\u6216OpenGLES2.0\u62161.1\u4e2d\u6269\u5c55\u540d\u63d0\u4f9b\u76f8\u5e94\u529f\u80fd \u5982\u679c\u9876\u70b9\u683c\u5f0f\u5185\u7684\u4e0d\u540c\u5c5e\u6027\u9700\u8981\u4e0d\u540c\u7684\u4f7f\u7528\u6a21\u5f0f,\u5219\u5c06\u9876\u70b9\u6570\u636e\u62c6\u5206\u4e3a\u591a\u4e2a\u7ed3\u6784,\u5e76\u4e3a\u6bcf\u4e2a\u5177\u6709\u5171\u540c\u7528\u6cd5\u7279\u5f81\u7684\u5c5e\u6027\u96c6\u5408\u5206\u914d\u4e00\u4e2a\u5355\u72ec\u7684\u9876\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61,\u4ee3\u78018-5\u4fee\u6539\u4e86\u524d\u9762\u7684\u5b9e\u4f8b,\u4f7f\u7528\u4e86\u4e00\u4e2a\u5355\u72ec\u7684\u7f13\u51b2\u533a\u6765\u4fdd\u5b58\u989c\u8272\u6570\u636e.\u901a\u8fc7\u4f7f\u7528GL_DYNAMIC_DRAW\u63d0\u793a\u5206\u914d\u989c\u8272\u7f13\u51b2\u533a,OpenGLES\u53ef\u4ee5\u5206\u914d\u8be5\u7f13\u51b2\u533a,\u4ee5\u4fbf\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4fdd\u6301\u5408\u7406\u7684\u6027\u80fd typedef struct vertexStatic { GLfloat position[2]; }VertexStatic; typedef struct vertexDynamic { GLubyte color[4]; }vertexDynamic; // separate buffers for static and dynamic data GLuint staticBuffer; GLuint dynamicBuffer; GLuint indexBuffer; const vertexStatic staticVertexdata[] = {...}; vertexDynamic dynamicVertexData[] = {...}; const GLubyte indices[] = {...}; void CreateBuffer(){ // static position data glGenBuffers(1, &staticBuffer); glBindBuffer(GL_ARRAY_BUFFER, staticBuffer); glBufferData(GL_ARRAY_BUFFER, sizeof(staticVertexdata),staticVertexdata,GL_DYNAMIC_DRAW); // dynamic color data // whild not shown here the expectation is that glGenbuffers(1,&dynamicBuffer); glBindBuffer(GL_ARRAY_BUFFER, dynamicBuffer); glBufferData(GL_ARRAY_BUFFER, sizeof(dynamicVertexData), dynamicVertexData, GL_DYNAMIC_DRAW); // static index data glGenBuffers(1, &indexBuffer); glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexBuffer); glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices , GL_STATIC_DRAW); } void DrawModelUsingMultipleVertexBuffers(){ glBindBuffer(GL_ARRAY_BUFFER, staticBuffer); glVertexAttribPointer(GLKVertexAttribPosition, 2 , GL_FLOAT, GL_FALSE, sizeof(vertexStruct), (void *)offsetof(vertexStruct, position)); glEnableVertexAttribArray(GLKVertexAttribPosition); glBindBuffer(GL_ARRAY_BUFFER, dynamicBuffer); glVertexAttribPointer(GLKVertexAttribColor, 4, GL_UNSIGNED_BYTE, GL_TRUE, sizeof(vertexStruct), (void *)offsetof(vertexStruct, color)); glEnableVertexAttribArray(GLKVertexAttribColor); glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexBuffer); glDrawElements(GL_TRIANGLE_STRIP, sizeof(indices)/sizeof(GLubyte), GL_UNSIGNED_BYTE, (void *)0); } \u4f7f\u7528\u5b9a\u70b9\u6570\u7ec4\u5bf9\u8c61\u5408\u5e76\u5b9a\u70b9\u6570\u7ec4\u72b6\u6001\u66f4\u6539 \u4ed4\u7ec6\u9605\u8bfb\u4ee3\u78018-5\u4e2d\u7684DrawModelUsingMultipleVertexBuffers\u51fd\u6570,\u542f\u7528\u8bb8\u591a\u5c5e\u6027, \u7ed1\u5b9a\u591a\u4e2a\u9876\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61,\u5e76\u914d\u7f6e\u5c1a\u9700\u7ecf\u4ee5\u6307\u5411\u7f13\u51b2\u533a.\u6240\u6709\u8fd9\u4e9b\u521d\u59cb\u5316\u4ee3\u7801\u672c\u8d28\u4e0a\u90fd\u662f\u9759\u6001\u7684.\u6ca1\u6709\u53c2\u6570\u5728\u5e27\u4e4b\u95f4\u53d8\u5316.\u5982\u679c\u6bcf\u6b21\u5e94\u7528\u6e32\u67d3\u5e27\u65f6\u90fd\u6761\u7528\u6b64\u51fd\u6570,\u5219\u91cd\u65b0\u914d\u7f6e\u56fe\u5f62\u7ba1\u9053\u4f1a\u4ea7\u751f\u5f88\u591a\u4e0d\u5fc5\u8981\u7684\u5f00\u9500.\u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u7ed8\u5236\u8bb8\u591a\u4e0d\u540c\u7c7b\u578b\u7684\u6a21\u578b,\u5219\u91cd\u65b0\u914d\u7f6e\u7ba1\u9053\u53ef\u80fd\u6210\u4e3a\u74f6\u9888. \u800c\u662f\u4f7f\u7528\u5b9a\u70b9\u6570\u7ec4\u5bf9\u8c61\u5b58\u50a8\u5b8c\u6574\u7684\u5c5e\u6027\u914d\u7f6e.\u5b9a\u70b9\u6570\u7ec4\u5bf9\u8c61\u662f\u6838\u5fc3OpenGLES3.0\u89c4\u8303\u7684\u4e00\u90e8\u5206,\u5e76\u4e14\u901a\u8fc7\u6269\u5c55\u5728 OpenGL ES2.0\u548c1.1\u4e2d\u53ef\u7528 \u4ee3\u78018-6\u63d0\u4f9b\u4e86\u7528\u4e8e\u914d\u7f6e\u4e0a\u9762\u663e\u793a\u7684\u7b2c\u4e00\u4e2a\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\u7684\u4ee3\u7801, \u5b83\u4e3a\u65b0\u7684\u5b9a\u70b9\u6570\u7ec4\u5bf9\u8c61\u751f\u6210\u4e00\u4e2a\u6807\u8bc6\u7b26,\u7136\u540e\u5c06\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\u7ed1\u5b9a\u5230\u4e0a\u4e0b\u6587.\u6b64\u540e,\u4e0e\u4ee3\u7801\u672a\u4f7f\u7528\u6570\u7ec4\u5bf9\u8c61\u7684\u60c5\u51b5\u76f8\u540c,\u5b83\u8fdb\u884c\u76f8\u540c\u7684\u8c03\u7528\u6765\u914d\u7f6e\u9876\u70b9\u5c5e\u6027.\u914d\u7f6e\u5b58\u50a8\u5230\u7ed1\u5b9a\u7684\u5b9a\u70b9\u6570\u7ec4\u5bf9\u8c61, \u800c\u4e0d\u662f\u4e0a\u4e0b\u6587. void ConfigureVertexArrayObject(){ // create and bind the vertex array object glGenVertexArrays(1, &vao1); glBindVertexArray(vao1); // configure the attributes in VAO glBindBuffer(GL_ARRAY_BUFFER,vao1); glVertexAttribPointer(GLKVertexAttribPosition,3,GL_FLOAT,GL_FALSE,sizeof(staticFmt),(void*)offsetof(staticFmt,position)); glEnableVertexAttribArray(GLKVertexAttribPosition); // glVertexAttribPointer(GLKVertexAttribTexCoord0, 2, GL_UNSIGNED_SHORT, GL_TRUE, sizeof(staticFmt), (void*)offsetof(staticFmt,texcoord)); glEnableVertexAttribArray(GLKVertexAttribTexCoord0); glVertexAttribPointer(GLKVertexAttribNormal, 3, GL_FLOAT, GL_FALSE, sizeof(staticFmt), (void*)offsetof(staticFmt,normal)); glEnableVertexAttribArray(GLKVertexAttribNormal); glBindBuffer(GL_ARRAY_BUFFER, vbo2); glVertexAttribPointer(GLKVertexAttribColor, 4, GL_UNSIGNED_BYTE, GL_TRUE, sizeof(dynamicFmt), (void*)offsetof(dynamicFmt,color)); glEnableVertexAttribArray(GLKVertexAttribColor); // Bind back to the default state. glBindBuffer(GL_ARRAY_BUFFER,0); glBindVertexArray(0); } \u8981\u8fdb\u884c\u7ed8\u5236, \u4ee3\u7801\u5c06\u7ed1\u5b9a\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61,\u7136\u540e\u50cf\u4ee5\u524d\u4e00\u6837\u63d0\u4ea4\u7ed8\u5236\u547d\u4ee4 \u6ce8\u610f:\u5728OpenGL ES3.0\u4e2d,\u4e0d\u5141\u8bb8\u5ba2\u6237\u7aef\u5b58\u50a8\u9876\u70b9\u6570\u7ec4\u6570\u636e-\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\u5fc5\u987b\u4f7f\u7528\u9876\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61 \u4e3a\u4e86\u83b7\u53d6\u6700\u4f73\u6027\u80fd,\u60a8\u7684\u5e94\u7528\u5e94\u914d\u7f6e\u6bcf\u4e2a\u5b9a\u70b9\u6570\u7ec4\u5bf9\u8c61\u4e00\u6b21,\u5e76\u4e14\u6c38\u8fdc\u4e0d\u8981\u5728\u8fd0\u884c\u65f6\u66f4\u6539\u5b83,\u5982\u679c\u9700\u8981\u5728\u6bcf\u5e27\u4e2d\u66f4\u6539\u4e00\u4e2a\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61,\u8bf7\u521b\u5efa\u591a\u4e2a\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61.\u4f8b\u5982\u4f7f\u7528\u53cc\u7f13\u51b2\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u4f1a\u5947\u6570\u5e27\u914d\u5408\u4e00\u7ec4\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61,\u800c\u4e3a\u5076\u6570\u5e27\u914d\u7f6e\u7b2c\u4e8c\u7ec4\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61.\u6bcf\u7ec4\u9876\u70b9\u9635\u5217\u5bf9\u8c61\u5c06\u6307\u5411\u7528\u4e8e\u6e32\u67d3\u8be5\u5e27\u7684\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61.\u5f53\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\u914d\u7f6e\u4e0d\u53d8\u65f6,OpenGL ES\u53ef\u4ee5\u7f13\u5b58\u6709\u5173\u9876\u70b9\u683c\u5f0f\u7684\u4fe1\u606f,\u5e76\u6539\u5584\u5176\u5904\u7406\u8fd9\u4e9b\u9876\u70b9\u5c5e\u6027\u7684\u65b9\u5f0f \u5c06\u7f13\u51b2\u533a\u6620\u5c04\u5230\u5ba2\u6237\u7aef\u5185\u5b58\u4ee5\u8fdb\u884c\u5feb\u901f\u66f4\u65b0 OpenGL ES\u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\u6700\u5177\u6311\u6218\u6027\u7684\u95ee\u9898\u4e4b\u4e00\u662f\u4f7f\u7528\u52a8\u6001\u8d44\u6e90,\u5c24\u5176\u662f\u5728\u9876\u70b9\u6570\u636e\u9700\u8981\u66f4\u6539\u6bcf\u4e00\u5e27\u7684\u60c5\u51b5\u4e0b.\u8981\u6709\u6548\u7684\u5e73\u66f4CPU\u548cGPU\u4e4b\u95f4\u7684\u5e76\u884c\u6027,\u9700\u8981\u4ed4\u7ec6\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u7684\u5185\u5b58\u7a7a\u95f4\u548cOpenGL ES\u5185\u5b58\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93.\u4f20\u7edf\u6280\u672f(\u4f8b\u5982\u4f7f\u7528glBufferSubData)\u4f1a\u964d\u4f4e\u6027\u80fd,\u56e0\u4e3a\u4ed6\u4eec\u4f1a\u535a\u58ebCPU\u7b49\u5f85\u6570\u636e\u4f20\u8f93,\u53ca\u65f6\u8be5\u6570\u636e\u53ef\u80fd\u662f\u4ece\u540c\u4e00\u7f13\u51b2\u533a\u4e2d\u5176\u4ed6\u4f4d\u7f6e\u7684\u6570\u636e\u8fdb\u884c\u6e32\u67d3\u7684 \u4f8b\u5982,\u60a8\u53ef\u80fd\u60f3\u8981\u4fee\u6539\u9876\u70b9\u7f13\u51b2\u533a\u5e76\u5728\u6bcf\u6b21\u901a\u8fc7\u9ad8\u5e27\u7387\u6e32\u67d3\u5faa\u73af\u65f6\u7ed8\u5236\u5176\u5185\u5bb9.\u5f53CPU\u89c6\u56fe\u8bbf\u95ee\u6362\u79cd\u5b58\u50a8\u5668\u4ee5\u51c6\u5907\u7ed8\u5236\u4e0b\u4e00\u5e27\u65f6,\u6765\u81ea\u6e32\u67d3\u7684\u6700\u540e\u4e00\u5e27\u7684\u7ed8\u5236\u547d\u4ee4\u53ef\u80fd\u5c42\u5728\u4f7f\u7528GPU,\u4ece\u800c\u5bfc\u81f4\u7f13\u51b2\u533a,\u66f4\u65b0\u8c03\u7528\u963b\u585e\u4e86\u8fdb\u4e00\u6b65\u7684CPU\u5de5\u4f5c,\u77e5\u9053GPU\u5b8c\u6210\u4e3a\u6b62,\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b, \u60a8\u53ef\u4ee5\u901a\u8fc7\u624b\u52a8\u540c\u6b65CPU\u548cGPU\u5bf9\u7f13\u51b2\u533a\u7684\u8bbf\u95ee\u6765\u63d0\u9ad8\u6027\u80fd \u8be5glMapBufferRange\u529f\u80fd\u63d0\u4f9b\u4e86\u4e00\u79cd\u66f4\u6709\u6548\u7684\u65b9\u5f0f\u6765\u52a8\u6001\u66f4\u65b0\u9876\u70b9\u7f13\u51b2\u533a. \u4f7f\u7528\u6b64\u51fd\u6570\u53ef\u68c0\u7d22\u6307\u5411OpenGL ES\u5185\u5b58\u533a\u57df\u7684\u6307\u9488,\u7136\u540e\u53ef\u4ee5\u4f7f\u7528\u8be5\u6307\u9488\u6765\u5199\u5165\u65b0\u6570\u636e. \u8be5glMapBufferRange\u529f\u80fd\u8fd0\u884c\u5c06\u7f13\u51b2\u533a\u6570\u636e\u5b58\u50a8\u7684\u4efb\u4f55\u5b50\u8303\u56f4\u6620\u5c04\u5230\u5ba2\u6237\u7aef\u5185\u5b58,\u5b83\u8fd8\u652f\u6301\u5c06\u51fd\u6570\u4e0eOpenGL\u540c\u6b65\u5bf9\u8c61\u4e00\u8d77\u4f7f\u7528\u65f6\u8fd0\u884c\u5f02\u6b65\u7f13\u51b2\u533a\u4fee\u6539\u7684\u63d0\u793a,\u5982\u4ee3\u78018-7\u6240\u793a // 8-7 GLsync fence; GLboolean updateAndDraw(GLuint vbo, GLuint offset, GLuint length, void *data){ GLboolean success; // bind and map buffer glBindBuffer(GL_ARRAY_BUFFER, vbo); void *old_data = glMapBufferRange(GL_ARRAY_BUFFER,offset,length, GL_MAP_WRITE_BIT|GL_MAP_FLUSH_EXPLICIT_BIT | GL_MAP_UNSYNCHRONIZED_BIT); // wait for fence (set below) before modifying buffer glClientWaitSync(fence, GL_SYNC_FLUSH_COMMANDS_BIT,GL_TIMEOUT_IGNORED); // modify buffer, flush and unmap memcpy(old_data,data, length); glFlushMappedBufferRange(GL_ARRAY_BUFFER,offset,length); success = glUnmapBuffer(GL_ARRAY_BUFFER); // issue other OpenGL ES commands that use other ranges of the VBO`s data // issue draw commands that use this range of VBO`s data DrawMyVBO(vbo); // create a fence that the next frame will wait for fence = glFenceSync(GL_SYNC_GPU_COMMANDS_COMPLETE,0); return success; } UpdateAndDraw\u51fd\u6570\u4f7f\u7528glFenceSync\u5efa\u7acb\u4e00\u4e2a\u540c\u6b65\u70b9,\u6216\u56f4\u680f,\u63d0\u4ea4\u4f7f\u7528\u7279\u5b9a\u7f13\u51b2\u5bf9\u8c61\u7684\u7ed8\u56fe\u547d\u4ee4\u4e4b\u540e\u7acb\u5373,\u7136\u540e,\u5b83\u5728\u4fee\u6539\u7f13\u51b2\u533a\u5bf9\u8c61\u4e4b\u524d,\u4f7f\u7528glClientWaitSync\u51fd\u6570(\u5728\u4e0b\u4e00\u904d\u6e32\u67d3\u5faa\u73af\u4e2d)\u68c0\u67e5\u8be5\u540c\u6b65\u70b9,\u5982\u679c\u8fd9\u4e9b\u7ed8\u5236\u547d\u4ee4\u5728\u6e32\u67d3\u5faa\u73af\u8fd4\u56de\u4e4b\u524d\u5728GPU\u4e0a\u5b8c\u6210\u6267\u884c,\u5219CPU\u6267\u884c\u4e0d\u4f1a\u963b\u585e,\u8be5UpdateAndDraw\u51fd\u6570\u5c06\u7ee7\u7eed\u4fee\u6539\u7f13\u51b2\u533a\u5e76\u7ed8\u5236\u4e0b\u4e00\u5e27.\u5982\u679cGPU\u5c1a\u672a\u5b8c\u6210\u6267\u884c\u8fd9\u4e9b\u547d\u4ee4,\u5219glClientWaitSync\u51fd\u6570\u5c06\u963b\u6b62\u8fdb\u4e00\u6b65\u7684CPU\u6267\u884c,\u77e5\u9053GPU\u5230\u8fbefence(\u6805\u680f)\u672a\u6b62.\u901a\u8fc7\u4ec5\u5728\u53ef\u80fd\u5b58\u5728\u5b58\u5728\u8d44\u6e90\u51b2\u7a81\u7684\u4ee3\u7801\u90e8\u5206\u5468\u56f4\u624b\u52a8\u653e\u7f6e\u540c\u6b65\u70b9,\u53ef\u4ee5\u6700\u5927\u7a0b\u5ea6\u5730\u51cf\u5c11CPU\u7b49\u5f85GPU\u7684\u65f6\u95f4","title":"\u9876\u70b9"},{"location":"\u76ee\u5f551/vertex/#_1","text":"\u8981\u4f7f\u7528OpenGLES\u6e32\u67d3\u6846\u67b6,\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4f1a\u914d\u7f6e\u56fe\u5f62\u6e32\u67d3\u7ba1\u9053\u5e76\u63d0\u4ea4\u7ed8\u5236\u7684\u56fe\u5f62\u57fa\u5143. \u5728\u67d0\u4e9b\u5e94\u7528\u7a0b\u5e8f\u4e2d,\u6240\u6709\u57fa\u5143\u90fd\u662f\u4f7f\u7528\u76f8\u540c\u7684\u7ba1\u9053\u914d\u7f6e\u7ed8\u5236\u7684.\u5176\u4ed6\u5e94\u7528\u53ef\u80fd\u4f1a\u4f7f\u7528\u4e0d\u540c\u7684\u6280\u672f\u6765\u6e32\u67d3\u6846\u67b6\u7684\u4e0d\u540c\u5143\u7d20,\u4f46\u662f\u65e0\u8bba\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\u4f7f\u7528\u54ea\u79cd\u539f\u8bed\u6216\u7ba1\u9053\u7684\u914d\u7f6e\u65b9\u5f0f\u5982\u4f55,\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u90fd\u4f1a\u4e3aOpenGL ES\u63d0\u4f9b\u9876\u70b9,\u672c\u7ae0\u63d0\u4f9b\u6709\u5173\u9876\u70b9\u6570\u636e\u7684\u590d\u4e60,\u5e76\u9488\u5bf9\u5982\u4f55\u6709\u6548\u5904\u7406\u9876\u70b9\u6570\u636e\u63d0\u4f9b\u6709\u9488\u5bf9\u6027\u7684\u5efa\u8bae \u9876\u70b9\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u5c5e\u6027,\u4f8b\u5982\u4f4d\u7f6e,\u989c\u8272,\u6cd5\u7ebf\u6216\u8005\u7eb9\u7406\u5750\u6807.OpenGL ES2.0\u6216OpenGL ES3.0\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u81ea\u7531\u5b9a\u4e49\u81ea\u5df1\u7684\u5c5e\u6027,\u9876\u70b9\u6570\u636e\u4e2d\u7684\u6bcf\u4e2a\u5c5e\u6027\u90fd\u5bf9\u5e94\u4e00\u4e2a\u5c5e\u6027\u53d8\u91cf,\u8be5\u53d8\u91cf\u5145\u5f53\u9876\u70b9\u7740\u8272\u5668\u7684\u8f93\u5165 OpenGL 1.1\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u7531\u56fa\u5b9a\u529f\u80fd\u7ba1\u9053\u5b9a\u4e49\u7684\u5c5e\u6027 \u60a8\u5c06\u5c5e\u6027\u5b9a\u4e49\u4e3a\u7531\u4e00\u5230\u56db\u4e2a\u7ec4\u6210\u90e8\u5206\u7ec4\u6210\u7684\u5411\u91cf.\u5c5e\u6027\u4e2d\u7684\u6240\u6709\u7ec4\u4ef6\u5171\u4eab\u4e00\u4e2a\u516c\u5171\u6570\u636e\u7c7b\u578b,\u4f8b\u5982\u4e00\u79cd\u989c\u8272\u53ef\u80fd\u5b9a\u4e49\u56db\u4e2aGLubyte\u6210\u5206(\u7ea2\u8272,\u7eff\u8272,\u84dd\u8272,alpha).\u5c06\u5c5e\u6027\u52a0\u8f7d\u5230\u7740\u8272\u5668\u53d8\u91cf\u4e2d\u65f6,OpenGLES\u5c06\u9ed8\u8ba4\u503c\u586b\u5145\u5e94\u7528\u7a0b\u5e8f\u6570\u636e\u672a\u63d0\u4f9b\u7684\u4efb\u4f55\u7ec4\u4ef6.\u5982\u56fe\u6240\u793a,\u6700\u540e\u4e00\u4e2a\u7ec4\u4ef6\u88ab\u586b\u51451,\u5176\u4ed6\u672a\u6307\u5b9a\u7684\u7ec4\u4ef6\u88ab\u586b\u51450 \u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u5c06\u5c5e\u6027\u914d\u7f6e\u4e3a\u5e38\u91cf,\u8fd9\u610f\u5473\u7740\u5c06\u76f8\u540c\u7684\u503c\u7528\u4e8e\u4f5c\u4e3adraw\u547d\u4ee4\u4e00\u90e8\u5206\u63d0\u4ea4\u7684\u6240\u6709\u5b9a\u70b9\u6216\u6570\u7ec4,\u8fd9\u610f\u5473\u7740\u6bcf\u4e2a\u5b9a\u70b9\u90fd\u662f\u8be5\u5c5e\u6027\u7684\u503c.\u5f53\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5728OpenGLES \u4e2d\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\u7ed8\u5236\u4e00\u7ec4\u9876\u70b9\u65f6,\u9876\u70b9\u6570\u636e\u5c06\u4ece\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u590d\u5236\u5230\u56fe\u5f62\u786c\u4ef6.\u7136\u540e,\u56fe\u5f62\u786c\u4ef6\u4f1a\u4f5c\u7528\u4e8e\u9876\u70b9\u6570\u636e,\u5728\u7740\u8272\u5668\u4e2d\u5904\u7406\u6bcf\u4e2a\u5b9a\u70b9,\u7ec4\u88c5\u56fe\u5143\u5e76\u5c06\u5176\u5149\u6805\u5316\u5230\u5e27\u7f13\u51b2\u533a\u4e2d.OpenGLES\u7684\u4e00\u4e2a\u4f18\u70b9\u662f,\u5b83\u6807\u51c6\u5316\u4e86\u4e00\u7ec4\u51fd\u6570\u4ee5\u5c06\u9876\u70b9\u6570\u636e\u63d0\u4ea4\u7ed9OpenGLES,\u4ece\u800c\u6d88\u9664\u4e86OpenGL\u63d0\u4f9b\u7684\u8f83\u65e7\u4e14\u6548\u7387\u8f83\u4f4e\u7684\u673a\u5236 \u5fc5\u987b\u63d0\u4ea4\u5927\u91cf\u56fe\u5143\u4ee5\u6e32\u67d3\u6846\u67b6\u7684\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u4ed4\u7ec6\u7ba1\u7406\u5176\u9876\u70b9\u6570\u636e\u4ee5\u53ca\u5982\u4f55\u5c06\u5176\u63d0\u4f9b\u7ed9OpenGLES.\u672c\u7ae0\u63cf\u8ff0\u7684\u65f6\u95f4\u53ef\u4ee5\u5f52\u7eb3\u4e3a\u4e00\u4e9b\u57fa\u672c\u539f\u5219 \u51cf\u5c11\u9876\u70b9\u6570\u636e\u7684\u5927\u5c0f \u51cf\u5c11\u5728OpenGLES\u53ef\u4ee5\u5c06\u9876\u70b9\u6570\u636e\u4f20\u8f93\u5230\u56fe\u5f62\u786c\u4ef6\u4e4b\u524d\u5fc5\u987b\u8fdb\u884c\u7684\u9884\u5904\u7406 \u51cf\u5c11\u5c06\u9876\u70b9\u6570\u636e\u590d\u5236\u5230\u56fe\u5f62\u786c\u4ef6\u6240\u82b1\u8d39\u7684\u65f6\u95f4 \u51cf\u5c11\u5bf9\u6bcf\u4e2a\u9876\u70b9\u6267\u884c\u7684\u8ba1\u7b97","title":"\u9876\u70b9\u6570\u636e\u5b9e\u8df5"},{"location":"\u76ee\u5f551/vertex/#_2","text":"\u57fa\u4e8eios\u7684\u8bbe\u5907\u7684\u56fe\u5f62\u786c\u4ef6\u975e\u5e38\u5f3a\u5927,\u4f46\u662f\u5176\u663e\u793a\u7684\u56fe\u50cf\u901a\u5e38\u5f88\u5c0f.\u60a8\u4e0d\u9700\u8981\u6781\u7aef\u590d\u6742\u7684\u6a21\u578b\u5373\u53ef\u5728ios\u4e0a\u5448\u73b0\u5f15\u4eba\u6ce8\u76ee\u7684\u56fe\u5f62,\u51cf\u5c11\u7528\u4e8e\u7ed8\u5236\u6a21\u578b\u7684\u9876\u70b9\u6570\u91cf\u53ef\u76f4\u63a5\u51cf\u5c11\u9876\u70b9\u6570\u636e\u7684\u5927\u5c0f\u4ee5\u53ca\u5bf9\u9876\u70b9\u6570\u636e\u6267\u884c\u7684\u8ba1\u7b97 \u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u4e00\u4e9b\u6280\u672f\u6765\u964d\u4f4e\u6a21\u578b\u7684\u590d\u6742\u6027: \u63d0\u4f9b\u4e0d\u540c\u7ea7\u522b\u7ec6\u8282\u7684\u6a21\u578b\u7684\u591a\u4e2a\u7248\u672c,\u5e76\u5728\u8fd0\u884c\u65f6\u6839\u636e\u5bf9\u8c61\u4e0e\u6444\u50cf\u673a\u7684\u8ddd\u79bb\u548c\u663e\u793a\u5668 \u7684\u5c3a\u5bf8\u9009\u62e9\u5408\u9002\u7684\u6a21\u578b \u4f7f\u7528\u7eb9\u7406\u6d88\u9664\u5bf9\u67d0\u4e9b\u9876\u70b9\u4fe1\u606f\u7684\u9700\u6c42,\u4f8b\u5982,\u51f9\u51f8\u8d34\u9762\u7528\u4e8e\u5728\u4e0d\u6dfb\u52a0\u66f4\u591a\u9876\u70b9\u6570\u636e\u7684\u60c5\u51b5\u4e0b\u5411\u6a21\u578b\u6dfb\u52a0\u7ec6\u8282 \u4e00\u4e9b\u6a21\u578b\u6dfb\u52a0\u5230\u9876\u70b9\u4ee5\u6539\u5584\u5149\u7167\u7ec6\u8282\u6216\u6e32\u67d3\u8d28\u91cf.\u901a\u5e38,\u5f53\u5728\u6805\u683c\u5316\u9636\u6bb5\u4e3a\u6bcf\u4e2a\u9876\u70b9\u8ba1\u7b97\u503c\u5e76\u5728\u4e09\u89d2\u5f62\u4e0a\u8fdb\u884c\u63d2\u503c\u65f6,\u4fbf\u53ef\u4ee5\u6267\u884c\u6b64\u64cd\u4f5c.\u4f8b\u5982,\u5982\u679c\u5c06\u805a\u5149\u706f\u6307\u5411\u4e09\u89d2\u5f62\u7684\u4e2d\u5fc3,\u5219\u5176\u6548\u679c\u53ef\u80fd\u4e0d\u4f1a\u88ab\u6ce8\u610f\u5230,\u56e0\u4e3a\u805a\u5149\u706f\u7684\u6700\u4eae\u90e8\u5206\u6ca1\u6709\u6307\u5411\u9876\u70b9.\u901a\u8fc7\u6dfb\u52a0\u9876\u70b9,\u60a8\u53ef\u4ee5\u63d0\u4f9b\u66f4\u591a\u7684\u63d2\u503c\u70b9,\u4f46\u4ee3\u4ef7\u662f\u589e\u52a0\u4e86\u9876\u70b9\u6570\u636e\u548c\u5728\u6a21\u578b\u4e0a\u6267\u884c\u7684\u8ba1\u7b97\u7684\u5927\u5c0f.\u4e0e\u5176\u6dfb\u52a0\u5176\u4ed6\u9876\u70b9,\u4e0d\u5982\u8003\u8651\u5c06\u8ba1\u7b97\u79fb\u81f3\u7ba1\u9053\u7684\u7247\u6bb5\u9636\u6bb5 \u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528OpenGLES 2.0\u6216\u66f4\u9ad8\u7248\u672c,\u5219\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5c06\u5728\u9876\u70b9\u7740\u8272\u5668\u4e2d\u6267\u884c\u8ba1\u7b97\u5e76\u5c06\u5176\u5206\u914d\u7ed9\u53ef\u53d8\u53d8\u91cf.\u56fe\u5f62\u786c\u4ef6\u5bf9\u53d8\u5316\u7684\u503c\u8fdb\u884c\u63d2\u503c,\u5e76\u5c06\u5176\u4f5c\u4e3a\u8f93\u5165\u4f20\u9012\u7ed9\u7247\u6bb5\u7740\u8272\u5668.\u800c\u662f\u5c06\u8ba1\u7b97\u7684\u8f93\u5165\u5206\u914d\u7ed9\u53ef\u53d8\u53d8\u91cf.\u7136\u540e\u5728\u7247\u6bb5\u7740\u8272\u5668\u4e2d\u6267\u884c\u8ba1\u7b97 \u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528OpenGLES 1.1,\u5219\u53ef\u4ee5\u4f7f\u7528DOT3\u7167\u660e\u6267\u884c\u6bcf\u7247\u6bb5\u7167\u660e,\u4e3a\u6b64,\u60a8\u53ef\u4ee5\u6dfb\u52a0\u51f9\u51f8\u8d34\u56fe\u7eb9\u7406\u4ee5\u4fdd\u5b58\u5e38\u89c4\u4fe1\u606f,\u5e76\u4f7f\u7528\u7eb9\u7406\u5e76\u5408\u5e76\u64cd\u4f5c\u548cGL_DOT3_RGB\u6a21\u5f0f\u6765\u5e94\u7528\u51f9\u51f8\u8d34\u56fe","title":"\u7b80\u5316\u6a21\u578b"},{"location":"\u76ee\u5f551/vertex/#_3","text":"\u5982\u679c\u60a8\u7684\u6a21\u578b\u5305\u542b\u4f7f\u7528\u5728\u6574\u4e2a\u6a21\u578b\u4e2d\u4fdd\u6301\u4e0d\u53d8\u7684\u6570\u636e\u7684\u5c5e\u6027,\u8bf7\u4e0d\u8981\u4e3a\u6bcf\u4e2a\u5b9a\u70b9\u91cd\u590d\u91cd\u590d\u8be5\u6570\u636e.OpenGLES2.0\u548c3.0\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u8bbe\u7f6e\u6052\u5b9a\u7684\u5b9a\u70b9\u5c5e\u6027,\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7edf\u4e00\u7684\u7740\u8272\u5668\u503c\u6765\u4fdd\u5b58\u8be5\u503c","title":"\u907f\u514d\u5728\u5c5e\u6027\u6570\u7ec4\u4e2d\u5b58\u50a8\u5e38\u91cf"},{"location":"\u76ee\u5f551/vertex/#_4","text":"\u6307\u5b9a\u5c5e\u6027\u7684\u6bcf\u4e2a\u7ec4\u4ef6\u7684\u5927\u5c0f\u65f6,\u8bf7\u9009\u62e9\u53ef\u63d0\u4f9b\u53ef\u63a5\u53d7\u7ed3\u679c\u7684\u6700\u5c0f\u6574\u6570\u6570\u636e\u7c7b\u578b,\u4e00\u4e0b\u662f\u4e00\u4e9b\u51c6\u5219: \u4f7f\u7528\u56db\u4e2a\u65e0\u7b26\u53f7\u5b57\u8282\u5206\u91cf(GL_UNSIGNED_BYTE)\u6307\u5b9a\u9876\u70b9\u989c\u8272 \u4f7f\u75282\u62164\u4e2a\u65e0\u7b26\u53f7\u5b57\u8282(GL_UNSIGNED_BYTE)\u6216\u65e0\u7b26\u53f7short(GL_UNSIGNED_SHORT)\u6307\u5b9a\u7eb9\u7406\u5750\u6807. \u907f\u514d\u4f7f\u7528OpenGLES GL_FIXED\u6570\u636e\u7c7b\u578b,\u5b83\u9700\u8981\u4e0e\u76f8\u540c\u6570\u91cf\u7684\u5185\u5b58GL_FLOAT,\u4f46\u63d0\u4f9b\u7684\u503c\u8303\u56f4\u8f83\u5c0f,\u6240\u6709ios\u8bbe\u5907\u5747\u652f\u6301\u786c\u4ef6\u6d6e\u70b9\u5355\u5143,\u56e0\u6b64\u53ef\u4ee5\u66f4\u5feb\u7684\u5904\u7406\u6d6e\u70b9\u503c OpenGLES 3.0\u4e0a\u4e0b\u6587\u652f\u6301\u66f4\u5e7f\u6cdb\u7684\u5c0f\u578b\u6570\u636e\u7c7b\u578b,\u4f8b\u5982GL_HLOAT\u548cGL_INT_2_10_10_10_REV.\u8fd9\u4e9b\u901a\u5e38\u53ef\u4e3a\u5c5e\u6027(\u4f8b\u5982\u53d1\u73b0)\u63d0\u4f9b\u8db3\u591f\u7684\u7cbe\u5ea6,\u4e14\u5360\u7528\u7684\u7a7a\u95f4\u5c0f\u4e8eGL_FLOAT \u5982\u679c\u6307\u5b9a\u8f83\u5c0f\u7684\u7ec4\u4ef6,\u8bf7\u786e\u4fdd\u5bf9\u9876\u70b9\u683c\u5f0f\u91cd\u65b0\u5b89\u6392,\u4ee5\u8868\u9762\u672a\u5bf9\u5176\u9876\u70b9\u6570\u636e","title":"\u5bf9\u5c5e\u6027\u4f7f\u7528\u6700\u5c0f\u53ef\u63a5\u53d7\u7c7b\u578b"},{"location":"\u76ee\u5f551/vertex/#_5","text":"\u60a8\u53ef\u4ee5\u5c06\u9876\u70b9\u6570\u636e\u6307\u5b9a\u4e3a\u4e00\u7cfb\u5217\u6570\u7ec4(\u4e5f\u79f0array\u7684struct),\u4e5f\u53ef\u4ee5\u6307\u5b9a\u4e3a\u6bcf\u4e2a\u5143\u7d20\u5305\u542b\u591a\u4e2a\u5c5e\u6027\u7684\u6570\u7ec4(struct\u7684\u6570\u7ec4).ios\u4e0a\u7684\u9996\u9009\u683c\u5f0f\u662f\u5177\u6709\u5355\u4e2a\u4ea4\u9519\u9876\u70b9\u683c\u5f0f\u7684\u7ed3\u6784\u6570\u7ec4,ios\u4e0a\u7684\u9996\u9009\u683c\u5f0f\u662f\u5177\u6709\u5355\u4e2a\u4ea4\u9519\u9876\u70b9\u7684\u7ed3\u6784\u6570\u7ec4.\u4ea4\u9519\u6570\u636e\u4e3a\u6bcf\u4e2a\u5b9a\u70b9\u63d0\u4f9b\u4e86\u66f4\u597d\u7684\u5185\u5b58\u5c40\u90e8\u6027 \u5982\u679c\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u4ee5\u4e0d\u540c\u4e8e\u5176\u4f59\u9876\u70b9\u6570\u636e\u7684\u901f\u7387\u66f4\u65b0\u67d0\u4e9b\u9876\u70b9\u6570\u636e,\u6216\u8005\u67d0\u4e9b\u6570\u636e\u53ef\u4ee5\u5728\u4e24\u4e2a\u6216\u591a\u4e2a\u6a21\u578b\u4e4b\u95f4\u5171\u4eab,\u5219\u6b64\u89c4\u5219\u4f8b\u5916,\u65e0\u8bba\u54ea\u79cd\u60c5\u51b5,\u60a8\u90fd\u53ef\u80fd\u5e0c\u671b\u5c06\u5c5e\u6027\u6570\u636e\u5206\u6210\u4e24\u4e2a\u6216\u591a\u4e2a\u7ed3\u6784","title":"\u4f7f\u7528\u4ea4\u9519\u9876\u70b9\u6570\u636e"},{"location":"\u76ee\u5f551/vertex/#_6","text":"\u5728\u8bbe\u8ba1\u9876\u70b9\u7ed3\u6784\u65f6,\u8bf7\u5c06\u6bcf\u4e2a\u5c5e\u6027\u7684\u5f00\u5934\u4e0e\u4e00\u4e2a\u504f\u79fb\u91cf\u5bf9\u9f50,\u8be5\u504f\u79fb\u91cf\u53ef\u4ee5\u662f\u5176\u7ec4\u4ef6\u5927\u5c0f\u7684\u500d\u6570\u62164\u4e2a\u5b57\u8282,\u4ee5\u8f83\u5927\u8005\u4e3a\u51c6,\u5f53\u5c5e\u6027\u672a\u5bf9\u9f50\u65f6,ios\u5fc5\u987b\u5148\u6267\u884c\u5176\u4ed6\u5904\u7406,\u7136\u540e\u518d\u5c06\u6570\u636e\u4f20\u9012\u5230\u56fe\u5f62\u786c\u4ef6 \u5728\u4e0b\u56fe\u4e2d,\u4f4d\u7f6e\u548c\u6cd5\u7ebf\u6570\u636e\u5206\u522b\u5b9a\u4e49\u4e3a\u4e09\u4e2a\u77ed\u6574\u6570,\u603b\u51716\u4e2a\u5b57\u8282.\u666e\u901a\u6570\u636e\u4ee5offset\u5f00\u59346,\u8be5\u504f\u79fb\u91cf\u662f\u672c\u673a\u5927\u5c0f(2\u4e2a\u5b57\u8282)\u7684\u500d\u6570,\u4f46\u4e0d\u662f4\u4e2a\u5b57\u8282\u7684\u500d\u6570,\u5982\u679c\u5c06\u6b64\u6570\u636e\u63d0\u4ea4\u7ed9ios,\u5219ios\u5c06\u5728\u6570\u636e\u4f20\u9012\u5230\u786c\u4ef6\u4e4b\u524d\u4e0d\u5f97\u4e0d\u82b1\u8d39\u989d\u5916\u7684\u65f6\u95f4\u6765\u590d\u5236\u548c\u5bf9\u9f50\u6570\u636e,\u8981\u89e3\u51b3\u6b64\u95ee\u9898,\u8bf7\u5728\u6ca1\u4e2a\u5c5e\u6027\u540e\u9762\u663e\u793a\u6dfb\u52a0\u4e24\u4e2a\u586b\u5145\u5b57\u8282","title":"\u907f\u514d\u672a\u5bf9\u9f50\u7684\u5b9a\u70b9\u6570\u636e"},{"location":"\u76ee\u5f551/vertex/#_7","text":"\u4f7f\u7528\u4e09\u89d2\u5f62\u6761\u7eb9\u53ef\u4ee5\u663e\u8457\u51cf\u5c11OpenGLES\u5fc5\u987b\u5728\u6a21\u578b\u4e0a\u6267\u884c\u7684\u5b9a\u70b9\u8ba1\u7b97\u6b21\u6570,\u5728\u4e0b\u56fe\u7684\u5de6\u4fa7\u4f7f\u7528\u603b\u51719\u4e2a\u5b9a\u70b9\u6307\u5b9a\u4e86\u4e09\u4e2a\u4e09\u89d2\u5f62,C,E\u548cG\u5b9e\u9645\u4e0a\u6307\u5b9a\u4e86\u76f8\u540c\u7684\u5b9a\u70b9!\u901a\u8fc7\u5c06\u6570\u636e\u6307\u5b9a\u4e3a\u4e09\u89d2\u5f62\u5e26,\u53ef\u4ee5\u5c06\u9876\u70b9\u6570\u4ece9\u4e2a\u51cf\u5c11\u4e3a5\u4e2a \u6709\u65f6,\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u5c06\u591a\u4e2a\u4e09\u89d2\u5f62\u5e26\u7ec4\u5408\u4e3a\u4e00\u4e2a\u8f83\u5927\u7684\u4e09\u89d2\u5f62\u5e26,\u6240\u6709\u6761\u5e26\u5fc5\u987b\u5171\u4eab\u76f8\u540c\u7684\u6e32\u67d3\u8981\u6c42,\u8fd9\u8868\u793a \u60a8\u5fc5\u987b\u4f7f\u7528\u76f8\u540c\u7684\u7740\u8272\u5668\u6765\u7ed8\u5236\u6240\u6709\u4e09\u89d2\u5e26 \u60a8\u5fc5\u987b\u80fd\u591f\u5728\u4e0d\u66f4\u6539\u4efb\u4f55OpenGL\u72b6\u6001\u7684\u60c5\u51b5\u4e0b\u6e32\u67d3\u6240\u6709\u4e09\u89d2\u5e26 \u4e09\u89d2\u5e26\u5fc5\u987b\u5171\u4eab\u76f8\u540c\u7684\u5b9a\u70b9\u5c5e\u6027 \u8981\u5408\u5e76\u4e24\u4e2a\u4e09\u89d2\u884c\u6761,\u8bf7\u590d\u5236\u7b2c\u4e00\u4e2a\u6761\u7684\u6700\u540e\u4e00\u4e2a\u9876\u70b9\u548c\u7b2c\u4e8c\u4e2a\u6761\u7684\u7b2c\u4e00\u4e2a\u9876\u70b9,\u5982\u4e0b\u56fe\u6240\u793a,\u5c06\u6b64\u6761\u63d0\u4ea4\u7ed9OpenGLES\u65f6,\u4e09\u89d2\u5f62DEE,EEF,EFF\u548cFFG\u88ab\u8ba4\u4e3a\u662f\u9000\u5316\u7684,\u6ca1\u6709\u7ecf\u8fc7\u5904\u7406\u6216\u6805\u683c\u5316 \u4e3a\u4e86\u83b7\u5f97\u6700\u4f73\u6027\u80fd,\u60a8\u7684\u6a21\u578b\u5e94\u4f5c\u4e3a\u5355\u4e2a\u7d22\u5f15\u4e09\u89d2\u5e26\u63d0\u4ea4.\u4e3a\u907f\u514d\u5728\u9876\u70b9\u7f13\u51b2\u533a\u4e2d\u591a\u6b21\u4e3a\u540c\u4e00\u4e2a\u9876\u70b9\u6307\u5b9a\u6570\u636e,\u8bf7\u4f7f\u7528\u5355\u72ec\u7684\u7d22\u5f15\u7f13\u51b2\u533a,\u5e76\u4f7f\u7528glDrawElements\u51fd\u6570(\u6216glDrawElementsInstanced\u6216glDrawRangeElements\u51fd\u6570,\u5982\u679c\u5408\u9002)\u7ed8\u5236\u4e09\u89d2\u5f62\u5e26 \u5728OpenGLES 3.0\u4e2d,\u60a8\u53ef\u4ee5\u4f7f\u7528\u539f\u59cb\u91cd\u542f\u529f\u80fd\u6765\u5408\u5e76\u4e09\u89d2\u5f62\u5e26,\u800c\u65e0\u9700\u4f7f\u7528\u9000\u5316\u4e09\u89d2\u5f62.\u542f\u7528\u6b64\u529f\u80fd\u540e,OpenGLES\u4f1a\u5c06\u7d22\u5f15\u7f13\u51b2\u533a\u4e2d\u7684\u6700\u5927\u53ef\u80fd\u503c\u89c6\u4e3a\u547d\u4ee4\u6765\u5b8c\u6210\u4e00\u4e2a\u4e09\u89d2\u5f62\u5e26\u5e76\u5f00\u59cb\u53e6\u4e00\u4e2a\u4e09\u89d2\u5f62\u5e26,\u4e0b\u4ee3\u7801\u6f14\u793a\u4e86\u8fd9\u79cd\u65b9\u6cd5 //\u51c6\u5907\u7d22\u5f15\u7f13\u51b2\u533a\u6570\u636e\uff08\u672a\u663e\u793a\uff1a\u9876\u70b9\u7f13\u51b2\u533a\u6570\u636e\uff0c\u52a0\u8f7d\u9876\u70b9\u548c\u7d22\u5f15\u7f13\u51b2\u533a\uff09 GLushort indexData [11] = { 0\uff0c1\uff0c2\uff0c3\uff0c4\uff0c//\u4e09\u89d2\u5e26ABCDE 0xFFFF\uff0c//\u57fa\u672c\u91cd\u542f\u7d22\u5f15\uff08\u53ef\u80fd\u7684\u6700\u5927GLushort\u503c\uff09 5\uff0c6\uff0c7\uff0c8\uff0c9\uff0c//\u4e09\u89d2\u5e26FGHIJ }; //\u7ed8\u5236\u4e09\u89d2\u5f62\u6761 glEnable\uff08GL_PRIMITIVE_RESTART_FIXED_INDEX\uff09; glDrawElements\uff08GL_TRIANGLE_STRIP\uff0c11\uff0cGL_UNSIGNED_SHORT\uff0c0\uff09; \u5728\u53ef\u80fd\u7684\u60c5\u51b5\u4e0b,\u5bf9\u9876\u70b9\u548c\u7d22\u5f15\u6570\u636e\u8fdb\u884c\u6392\u5e8f,\u4ee5\u4fbf\u5728\u4e09\u89d2\u5f62\u5e26\u4e2d\u5408\u7406\u7684\u7ed8\u5236\u5f7c\u6b64\u4e34\u8fd1\u7684\u5171\u4eab\u9876\u70b9\u7684\u4e09\u89d2\u5f62.\u56fe\u5f62\u786c\u4ef6\u901a\u5e38\u4f1a\u7f13\u5b58\u6700\u8fd1\u7684\u5b9a\u70b9\u8ba1\u7b97,\u4ee5\u907f\u514d\u91cd\u65b0\u8ba1\u7b97\u9876\u70b9","title":"\u4f7f\u7528\u4e09\u89d2\u5e26\u6279\u5904\u7406\u9876\u70b9\u6570\u636e"},{"location":"\u76ee\u5f551/vertex/#_8","text":"\u4e0b\u9762\u4ee3\u78018-2\u63d0\u4f9b\u4e86\u4e00\u4e2a\u529f\u80fd,\u7b80\u5355\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u4f7f\u7528\u8be5\u529f\u80fd\u5411\u9876\u70b9\u7740\u8272\u5668\u63d0\u4f9b\u4f4d\u7f6e\u548c\u989c\u8272\u6570\u636e.\u5b83\u542f\u7528\u4e24\u4e2a\u5c5e\u6027.\u5e76\u5c06\u6bcf\u4e2a\u5c5e\u6027\u914d\u7f6e\u4e3a\u6307\u5411\u4ea4\u9519\u7684\u5b9a\u70b9\u7ed3\u6784,\u6700\u540e\u4ed6\u8c03\u7528\u8be5glDrawElements\u51fd\u6570\u4ee5\u5c06\u6a21\u578b\u6e32\u67d3\u4e3a\u5355\u4e2a\u4e09\u89d2\u5f62\u5e26 typedef struct _vertexStruct { GLfloat position[2]; GLubyte color[4]; }vertexStruct; void DrawModel(){ const vertexStruct vertices[] = {...}; const GLubyte indices[] = {...}; glVertexAttribPointer(GLKVertexAttribPosition,2,GL_FLOAT,GL_FALSE,sizeof(vertexStruct),&vertices[0].position); glEnableVertexAttribArray(GLKVertexAttribPosition); glEnableAttribPointer(GLKVertexAttribColor,4,GL_UNSIGNED_BYTE, GL_TRUE,sizeof(vertexStruct),&vertices[0].color); glEnableVertexAttribArray(GLKVertexAttribColor); glDrawElements(GL_TRIANGLE_STRIP,sizeof(indices)/sizeof(GLubyte),GL_UNSIGNED_BYTE,indices); } \u8be5\u4ee3\u7801\u6709\u6548,\u4f46\u662f\u6548\u7387\u4f4e\u4e0b.\u6bcf\u6b21DrawModel\u8c03\u7528\u65f6,\u7d22\u5f15\u548c\u9876\u70b9\u6570\u636e\u90fd\u4f1a\u590d\u5236\u5230OpenGLES,\u7136\u540e\u4f20\u8f93\u5230\u56fe\u5f62\u786c\u4ef6.\u5982\u679c\u5b9a\u70b9\u6570\u636e\u5728\u4e24\u6b21\u8c03\u7528\u4e4b\u95f4\u6ca1\u6709\u53d8\u5316,\u5219\u8fd9\u4e9b\u4e0d\u5fc5\u8981\u7684\u526f\u672c\u4f1a\u5f71\u54cd\u6027\u80fd.\u4e3a\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u590d\u5236,\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u5e94\u5c06\u5176\u9876\u70b9\u6570\u636e\u5b58\u50a8\u5728\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61(VBO),\u56e0\u4e3aOpenGLES\u62e5\u6709\u9876\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61\u7684\u5185\u5b58,\u6240\u4ee5\u5b83\u53ef\u4ee5\u5c06\u7f13\u51b2\u533a\u5b58\u50a8\u5728\u56fe\u5f62\u786c\u4ef6\u66f4\u6613\u4e8e\u8bbf\u95ee\u7684\u5185\u5b58\u4e2d,\u6216\u5c06\u6570\u636e\u9884\u5904\u7406\u4e3a\u56fe\u5f62\u786c\u4ef6\u7684\u9996\u9009\u683c\u5f0f \u6ce8\u610f:\u5728OpenGLES3.0\u4e2d\u4f7f\u7528\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\u65f6,\u8fd8\u5fc5\u987b\u4f7f\u7528\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61. \u4e0b\u9762\u7684\u4ee3\u78018-3\u521b\u5efa\u4e86\u4e00\u5bf9\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61,\u4e00\u4e2a\u7528\u4e8e\u4fdd\u5b58\u9876\u70b9\u6570\u636e,\u7b2c\u4e8c\u4e2a\u7528\u4e8e\u5b58\u50a8\u6761\u7684\u7d22\u5f15,\u5728\u6bcf\u79cd\u60c5\u51b5\u4e0b,\u4ee3\u7801\u90fd\u4f1a\u751f\u6210\u4e00\u4e2a\u65b0\u5bf9\u8c61,\u5c06\u5176\u7ed1\u5b9a\u4e3a\u5f53\u524d\u7f13\u51b2\u533a,\u7136\u540e\u586b\u5145\u7f13\u51b2\u533a,CreateVertexBuffers\u5e94\u7528\u521d\u59cb\u5316\u65f6\u4f1a\u88ab\u8c03\u7528 GLuint vertexBuffer; GLuint indexBuffer; void CreateVertexBuffers(){ glGenBuffers(1, &vertexBuffer); glBindBuffer(GL_ARRAY_BUFFER, vertexBuffer); glBufferData(GL_ARRAY_BUFFER, sizeof(vertices),vertices,GL_STATIC_DRAW); glGenbuffers(1, &indexBuffer); glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexBuffer); glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices),indices,GL_STATIC_DRAW); } \u4e0b\u9762\u7684\u4ee3\u78018-4\u4fee\u6539\u4e86\u4ee3\u78018-2\u4f7f\u7528\u5b9a\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61,\u4ee3\u78018-4\u7684\u4e3b\u8981\u533a\u522b\u5728\u4e8e,glVertexAttribPointer\u51fd\u6570\u7684\u53c2\u6570\u4e0d\u518d\u6307\u5411\u9876\u70b9\u6570\u7ec4.\u76f8\u53cd,\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u662f\u9876\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61\u7684\u504f\u79fb\u91cf void drawModelUsingvertexBuffer(){ glBindBuffer(GL_ARRAY_BUFFER,vertexBuffer); glVertexattribPointer(GLKVertexAttribPosition,2,GL_FLOAT,GL_FALSE,sizeof(vertexStruct),(void*)offsetof(vertexStruct,position)); glEnableVertexAttribArray(GLKVertexAttribPosition); glVertexattribPointer(GLKVertexAttribColor,GL_UNSIGNED_BYTE,GL_TRUE,sizeof(vertexStruct),(void*)offsetof(vertexStruct,color)); glEnableVertexAttribArray(GLKVertexAttribColor); glBindBuffer(GL_ELEMENT_ARRAY_BUFFER,indexBuffer); glDrawElements(GL_TRIANGLE_STRIP,sizeof(indices)/sizeof(GLubyte),GL_UNSIGNED_BYTE,(void *)0); }","title":"\u4f7f\u7528\u5b9a\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61\u6765\u7ba1\u7406\u590d\u5236\u5b9a\u70b9\u6570\u636e"},{"location":"\u76ee\u5f551/vertex/#_9","text":"\u524d\u9762\u7684\u5b9e\u4f8b\u4e00\u6b21\u521d\u59cb\u5316\u4e86\u9876\u70b9\u7f13\u51b2\u533a,\u6b64\u540e\u4ece\u672a\u66f4\u6539\u5176\u5185\u5bb9,\u60a8\u53ef\u4ee5\u66f4\u6539\u9876\u70b9\u7f13\u51b2\u533a\u7684\u5185\u5bb9.\u9876\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61\u8bbe\u8ba1\u7684\u5173\u952e\u90e8\u5206\u662f\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u901a\u77e5OpenGLES3\u5982\u4f55\u4f7f\u7528\u7f13\u51b2\u533a\u4e2d\u5b58\u50a8\u7684\u6570\u636e,OpenGLES\u5b9e\u73b0\u53ef\u4ee5\u4f7f\u7528\u6b64\u63d0\u793a\u6765\u66f4\u6539\u7528\u4e8e\u5b58\u50a8\u9876\u70b9\u6570\u636e\u7684\u4fa7\u7387,\u5728\u4ee3\u78018-3\u4e2d,\u5bf9glBufferData\u51fd\u6570\u7684\u6bcf\u6b21\u8c03\u7528\u90fd\u63d0\u4f9b\u7528\u6cd5\u63d0\u793a\u4f5c\u4e3a\u6700\u540e\u4e00\u4e2a\u53c2\u6570,\u4f20\u9012GL_STATIC_DRAW\u5230glBufferData\u544a\u8bc9OpenGLES\u8fd9\u4e24\u4e2a\u7f13\u51b2\u533a\u7684\u5185\u5bb9\u4ece\u6765\u6ca1\u60f3\u8fc7\u8981\u6539\u53d8,\u8fd9\u7ed9OpenGLES\u7684\u66f4\u591a\u673a\u4f1a,\u4ee5\u4f18\u5316\u5982\u4f55\u4ee5\u53ca\u5728\u4f55\u5904\u5b58\u50a8\u6570\u636e OpenGLES\u89c4\u8303\u5b9a\u4e49\u4e86\u4ee5\u4e0b\u4f7f\u7528\u60c5\u51b5: GL_STATIC_DRAW\u9002\u7528\u4e8e\u591a\u6b21\u6e32\u67d3\u4e14\u5176\u5185\u5bb9\u4ec5\u6307\u5b9a\u4e00\u6b21\u4e14\u6c38\u4e0d\u66f4\u6539\u7684\u9876\u70b9\u7f13\u51b2\u533a GL_DYNAMIC_DRAW\u7528\u4e8e\u591a\u6b21\u6e32\u67d3\u7684\u5b9a\u70b9\u7f13\u51b2\u533a,\u5176\u5185\u5bb9\u5728\u6e32\u67d3\u5faa\u73af\u4e2d\u4f1a\u66f4\u6539 GL_STREAM_DRAW\u7528\u4e8e\u9876\u70b9\u7f13\u51b2\u533a,\u6e32\u67d3\u6b21\u6570\u5f88\u5c11,\u7136\u540e\u4e22\u5f03 \u5728ios\u4e2dGL_DYNAMIC_DRAW\u5e76\u4e14GL_STREAM_DRAW\u662f\u7b49\u4ef7\u7684.\u60a8\u53ef\u4ee5\u4f7f\u7528glBufferSubData\u51fd\u6570\u6765\u66f4\u65b0\u7f13\u51b2\u533a\u5185\u5bb9,\u4f46\u662f\u8fd9\u6837\u505a\u4f1a\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d,\u56e0\u4e3a\u4ed6\u5237\u65b0\u547d\u4ee4\u7f13\u51b2\u533a\u5e76\u7b49\u5f85\u6240\u6709\u547d\u4ee4\u5b8c\u6210.\u53cc\u91cd\u6216\u4e09\u6b21\u7f13\u51b2\u533a\u53ef\u4ee5\u7a0d\u5fae\u964d\u4f4e\u6b64\u6027\u80fd\u6210\u672c,(\u8bf7\u53c2\u9605\u4f7f\u7528\u53cc\u7f13\u51b2\u533a\u4ee5\u907f\u514d\u8d44\u6e90\u51b2\u7a81),\u4e3a\u4e86\u83b7\u53d6\u66f4\u597d\u7684\u6027\u80fd,\u8bf7\u4f7f\u7528glMapBufferrange OpenGLES\u4e2d\u7684\u529f\u80fdEXT_map_buffer_range\u6216OpenGLES2.0\u62161.1\u4e2d\u6269\u5c55\u540d\u63d0\u4f9b\u76f8\u5e94\u529f\u80fd \u5982\u679c\u9876\u70b9\u683c\u5f0f\u5185\u7684\u4e0d\u540c\u5c5e\u6027\u9700\u8981\u4e0d\u540c\u7684\u4f7f\u7528\u6a21\u5f0f,\u5219\u5c06\u9876\u70b9\u6570\u636e\u62c6\u5206\u4e3a\u591a\u4e2a\u7ed3\u6784,\u5e76\u4e3a\u6bcf\u4e2a\u5177\u6709\u5171\u540c\u7528\u6cd5\u7279\u5f81\u7684\u5c5e\u6027\u96c6\u5408\u5206\u914d\u4e00\u4e2a\u5355\u72ec\u7684\u9876\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61,\u4ee3\u78018-5\u4fee\u6539\u4e86\u524d\u9762\u7684\u5b9e\u4f8b,\u4f7f\u7528\u4e86\u4e00\u4e2a\u5355\u72ec\u7684\u7f13\u51b2\u533a\u6765\u4fdd\u5b58\u989c\u8272\u6570\u636e.\u901a\u8fc7\u4f7f\u7528GL_DYNAMIC_DRAW\u63d0\u793a\u5206\u914d\u989c\u8272\u7f13\u51b2\u533a,OpenGLES\u53ef\u4ee5\u5206\u914d\u8be5\u7f13\u51b2\u533a,\u4ee5\u4fbf\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4fdd\u6301\u5408\u7406\u7684\u6027\u80fd typedef struct vertexStatic { GLfloat position[2]; }VertexStatic; typedef struct vertexDynamic { GLubyte color[4]; }vertexDynamic; // separate buffers for static and dynamic data GLuint staticBuffer; GLuint dynamicBuffer; GLuint indexBuffer; const vertexStatic staticVertexdata[] = {...}; vertexDynamic dynamicVertexData[] = {...}; const GLubyte indices[] = {...}; void CreateBuffer(){ // static position data glGenBuffers(1, &staticBuffer); glBindBuffer(GL_ARRAY_BUFFER, staticBuffer); glBufferData(GL_ARRAY_BUFFER, sizeof(staticVertexdata),staticVertexdata,GL_DYNAMIC_DRAW); // dynamic color data // whild not shown here the expectation is that glGenbuffers(1,&dynamicBuffer); glBindBuffer(GL_ARRAY_BUFFER, dynamicBuffer); glBufferData(GL_ARRAY_BUFFER, sizeof(dynamicVertexData), dynamicVertexData, GL_DYNAMIC_DRAW); // static index data glGenBuffers(1, &indexBuffer); glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexBuffer); glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices , GL_STATIC_DRAW); } void DrawModelUsingMultipleVertexBuffers(){ glBindBuffer(GL_ARRAY_BUFFER, staticBuffer); glVertexAttribPointer(GLKVertexAttribPosition, 2 , GL_FLOAT, GL_FALSE, sizeof(vertexStruct), (void *)offsetof(vertexStruct, position)); glEnableVertexAttribArray(GLKVertexAttribPosition); glBindBuffer(GL_ARRAY_BUFFER, dynamicBuffer); glVertexAttribPointer(GLKVertexAttribColor, 4, GL_UNSIGNED_BYTE, GL_TRUE, sizeof(vertexStruct), (void *)offsetof(vertexStruct, color)); glEnableVertexAttribArray(GLKVertexAttribColor); glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, indexBuffer); glDrawElements(GL_TRIANGLE_STRIP, sizeof(indices)/sizeof(GLubyte), GL_UNSIGNED_BYTE, (void *)0); }","title":"\u7f13\u51b2\u533a\u4f7f\u7528\u63d0\u793a"},{"location":"\u76ee\u5f551/vertex/#_10","text":"\u4ed4\u7ec6\u9605\u8bfb\u4ee3\u78018-5\u4e2d\u7684DrawModelUsingMultipleVertexBuffers\u51fd\u6570,\u542f\u7528\u8bb8\u591a\u5c5e\u6027, \u7ed1\u5b9a\u591a\u4e2a\u9876\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61,\u5e76\u914d\u7f6e\u5c1a\u9700\u7ecf\u4ee5\u6307\u5411\u7f13\u51b2\u533a.\u6240\u6709\u8fd9\u4e9b\u521d\u59cb\u5316\u4ee3\u7801\u672c\u8d28\u4e0a\u90fd\u662f\u9759\u6001\u7684.\u6ca1\u6709\u53c2\u6570\u5728\u5e27\u4e4b\u95f4\u53d8\u5316.\u5982\u679c\u6bcf\u6b21\u5e94\u7528\u6e32\u67d3\u5e27\u65f6\u90fd\u6761\u7528\u6b64\u51fd\u6570,\u5219\u91cd\u65b0\u914d\u7f6e\u56fe\u5f62\u7ba1\u9053\u4f1a\u4ea7\u751f\u5f88\u591a\u4e0d\u5fc5\u8981\u7684\u5f00\u9500.\u5982\u679c\u5e94\u7528\u7a0b\u5e8f\u7ed8\u5236\u8bb8\u591a\u4e0d\u540c\u7c7b\u578b\u7684\u6a21\u578b,\u5219\u91cd\u65b0\u914d\u7f6e\u7ba1\u9053\u53ef\u80fd\u6210\u4e3a\u74f6\u9888. \u800c\u662f\u4f7f\u7528\u5b9a\u70b9\u6570\u7ec4\u5bf9\u8c61\u5b58\u50a8\u5b8c\u6574\u7684\u5c5e\u6027\u914d\u7f6e.\u5b9a\u70b9\u6570\u7ec4\u5bf9\u8c61\u662f\u6838\u5fc3OpenGLES3.0\u89c4\u8303\u7684\u4e00\u90e8\u5206,\u5e76\u4e14\u901a\u8fc7\u6269\u5c55\u5728 OpenGL ES2.0\u548c1.1\u4e2d\u53ef\u7528 \u4ee3\u78018-6\u63d0\u4f9b\u4e86\u7528\u4e8e\u914d\u7f6e\u4e0a\u9762\u663e\u793a\u7684\u7b2c\u4e00\u4e2a\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\u7684\u4ee3\u7801, \u5b83\u4e3a\u65b0\u7684\u5b9a\u70b9\u6570\u7ec4\u5bf9\u8c61\u751f\u6210\u4e00\u4e2a\u6807\u8bc6\u7b26,\u7136\u540e\u5c06\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\u7ed1\u5b9a\u5230\u4e0a\u4e0b\u6587.\u6b64\u540e,\u4e0e\u4ee3\u7801\u672a\u4f7f\u7528\u6570\u7ec4\u5bf9\u8c61\u7684\u60c5\u51b5\u76f8\u540c,\u5b83\u8fdb\u884c\u76f8\u540c\u7684\u8c03\u7528\u6765\u914d\u7f6e\u9876\u70b9\u5c5e\u6027.\u914d\u7f6e\u5b58\u50a8\u5230\u7ed1\u5b9a\u7684\u5b9a\u70b9\u6570\u7ec4\u5bf9\u8c61, \u800c\u4e0d\u662f\u4e0a\u4e0b\u6587. void ConfigureVertexArrayObject(){ // create and bind the vertex array object glGenVertexArrays(1, &vao1); glBindVertexArray(vao1); // configure the attributes in VAO glBindBuffer(GL_ARRAY_BUFFER,vao1); glVertexAttribPointer(GLKVertexAttribPosition,3,GL_FLOAT,GL_FALSE,sizeof(staticFmt),(void*)offsetof(staticFmt,position)); glEnableVertexAttribArray(GLKVertexAttribPosition); // glVertexAttribPointer(GLKVertexAttribTexCoord0, 2, GL_UNSIGNED_SHORT, GL_TRUE, sizeof(staticFmt), (void*)offsetof(staticFmt,texcoord)); glEnableVertexAttribArray(GLKVertexAttribTexCoord0); glVertexAttribPointer(GLKVertexAttribNormal, 3, GL_FLOAT, GL_FALSE, sizeof(staticFmt), (void*)offsetof(staticFmt,normal)); glEnableVertexAttribArray(GLKVertexAttribNormal); glBindBuffer(GL_ARRAY_BUFFER, vbo2); glVertexAttribPointer(GLKVertexAttribColor, 4, GL_UNSIGNED_BYTE, GL_TRUE, sizeof(dynamicFmt), (void*)offsetof(dynamicFmt,color)); glEnableVertexAttribArray(GLKVertexAttribColor); // Bind back to the default state. glBindBuffer(GL_ARRAY_BUFFER,0); glBindVertexArray(0); } \u8981\u8fdb\u884c\u7ed8\u5236, \u4ee3\u7801\u5c06\u7ed1\u5b9a\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61,\u7136\u540e\u50cf\u4ee5\u524d\u4e00\u6837\u63d0\u4ea4\u7ed8\u5236\u547d\u4ee4 \u6ce8\u610f:\u5728OpenGL ES3.0\u4e2d,\u4e0d\u5141\u8bb8\u5ba2\u6237\u7aef\u5b58\u50a8\u9876\u70b9\u6570\u7ec4\u6570\u636e-\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\u5fc5\u987b\u4f7f\u7528\u9876\u70b9\u7f13\u51b2\u533a\u5bf9\u8c61 \u4e3a\u4e86\u83b7\u53d6\u6700\u4f73\u6027\u80fd,\u60a8\u7684\u5e94\u7528\u5e94\u914d\u7f6e\u6bcf\u4e2a\u5b9a\u70b9\u6570\u7ec4\u5bf9\u8c61\u4e00\u6b21,\u5e76\u4e14\u6c38\u8fdc\u4e0d\u8981\u5728\u8fd0\u884c\u65f6\u66f4\u6539\u5b83,\u5982\u679c\u9700\u8981\u5728\u6bcf\u5e27\u4e2d\u66f4\u6539\u4e00\u4e2a\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61,\u8bf7\u521b\u5efa\u591a\u4e2a\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61.\u4f8b\u5982\u4f7f\u7528\u53cc\u7f13\u51b2\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u4f1a\u5947\u6570\u5e27\u914d\u5408\u4e00\u7ec4\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61,\u800c\u4e3a\u5076\u6570\u5e27\u914d\u7f6e\u7b2c\u4e8c\u7ec4\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61.\u6bcf\u7ec4\u9876\u70b9\u9635\u5217\u5bf9\u8c61\u5c06\u6307\u5411\u7528\u4e8e\u6e32\u67d3\u8be5\u5e27\u7684\u9876\u70b9\u7f13\u51b2\u5bf9\u8c61.\u5f53\u9876\u70b9\u6570\u7ec4\u5bf9\u8c61\u914d\u7f6e\u4e0d\u53d8\u65f6,OpenGL ES\u53ef\u4ee5\u7f13\u5b58\u6709\u5173\u9876\u70b9\u683c\u5f0f\u7684\u4fe1\u606f,\u5e76\u6539\u5584\u5176\u5904\u7406\u8fd9\u4e9b\u9876\u70b9\u5c5e\u6027\u7684\u65b9\u5f0f","title":"\u4f7f\u7528\u5b9a\u70b9\u6570\u7ec4\u5bf9\u8c61\u5408\u5e76\u5b9a\u70b9\u6570\u7ec4\u72b6\u6001\u66f4\u6539"},{"location":"\u76ee\u5f551/vertex/#_11","text":"OpenGL ES\u5e94\u7528\u7a0b\u5e8f\u8bbe\u8ba1\u4e2d\u6700\u5177\u6311\u6218\u6027\u7684\u95ee\u9898\u4e4b\u4e00\u662f\u4f7f\u7528\u52a8\u6001\u8d44\u6e90,\u5c24\u5176\u662f\u5728\u9876\u70b9\u6570\u636e\u9700\u8981\u66f4\u6539\u6bcf\u4e00\u5e27\u7684\u60c5\u51b5\u4e0b.\u8981\u6709\u6548\u7684\u5e73\u66f4CPU\u548cGPU\u4e4b\u95f4\u7684\u5e76\u884c\u6027,\u9700\u8981\u4ed4\u7ec6\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u7684\u5185\u5b58\u7a7a\u95f4\u548cOpenGL ES\u5185\u5b58\u4e4b\u95f4\u7684\u6570\u636e\u4f20\u8f93.\u4f20\u7edf\u6280\u672f(\u4f8b\u5982\u4f7f\u7528glBufferSubData)\u4f1a\u964d\u4f4e\u6027\u80fd,\u56e0\u4e3a\u4ed6\u4eec\u4f1a\u535a\u58ebCPU\u7b49\u5f85\u6570\u636e\u4f20\u8f93,\u53ca\u65f6\u8be5\u6570\u636e\u53ef\u80fd\u662f\u4ece\u540c\u4e00\u7f13\u51b2\u533a\u4e2d\u5176\u4ed6\u4f4d\u7f6e\u7684\u6570\u636e\u8fdb\u884c\u6e32\u67d3\u7684 \u4f8b\u5982,\u60a8\u53ef\u80fd\u60f3\u8981\u4fee\u6539\u9876\u70b9\u7f13\u51b2\u533a\u5e76\u5728\u6bcf\u6b21\u901a\u8fc7\u9ad8\u5e27\u7387\u6e32\u67d3\u5faa\u73af\u65f6\u7ed8\u5236\u5176\u5185\u5bb9.\u5f53CPU\u89c6\u56fe\u8bbf\u95ee\u6362\u79cd\u5b58\u50a8\u5668\u4ee5\u51c6\u5907\u7ed8\u5236\u4e0b\u4e00\u5e27\u65f6,\u6765\u81ea\u6e32\u67d3\u7684\u6700\u540e\u4e00\u5e27\u7684\u7ed8\u5236\u547d\u4ee4\u53ef\u80fd\u5c42\u5728\u4f7f\u7528GPU,\u4ece\u800c\u5bfc\u81f4\u7f13\u51b2\u533a,\u66f4\u65b0\u8c03\u7528\u963b\u585e\u4e86\u8fdb\u4e00\u6b65\u7684CPU\u5de5\u4f5c,\u77e5\u9053GPU\u5b8c\u6210\u4e3a\u6b62,\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b, \u60a8\u53ef\u4ee5\u901a\u8fc7\u624b\u52a8\u540c\u6b65CPU\u548cGPU\u5bf9\u7f13\u51b2\u533a\u7684\u8bbf\u95ee\u6765\u63d0\u9ad8\u6027\u80fd \u8be5glMapBufferRange\u529f\u80fd\u63d0\u4f9b\u4e86\u4e00\u79cd\u66f4\u6709\u6548\u7684\u65b9\u5f0f\u6765\u52a8\u6001\u66f4\u65b0\u9876\u70b9\u7f13\u51b2\u533a. \u4f7f\u7528\u6b64\u51fd\u6570\u53ef\u68c0\u7d22\u6307\u5411OpenGL ES\u5185\u5b58\u533a\u57df\u7684\u6307\u9488,\u7136\u540e\u53ef\u4ee5\u4f7f\u7528\u8be5\u6307\u9488\u6765\u5199\u5165\u65b0\u6570\u636e. \u8be5glMapBufferRange\u529f\u80fd\u8fd0\u884c\u5c06\u7f13\u51b2\u533a\u6570\u636e\u5b58\u50a8\u7684\u4efb\u4f55\u5b50\u8303\u56f4\u6620\u5c04\u5230\u5ba2\u6237\u7aef\u5185\u5b58,\u5b83\u8fd8\u652f\u6301\u5c06\u51fd\u6570\u4e0eOpenGL\u540c\u6b65\u5bf9\u8c61\u4e00\u8d77\u4f7f\u7528\u65f6\u8fd0\u884c\u5f02\u6b65\u7f13\u51b2\u533a\u4fee\u6539\u7684\u63d0\u793a,\u5982\u4ee3\u78018-7\u6240\u793a // 8-7 GLsync fence; GLboolean updateAndDraw(GLuint vbo, GLuint offset, GLuint length, void *data){ GLboolean success; // bind and map buffer glBindBuffer(GL_ARRAY_BUFFER, vbo); void *old_data = glMapBufferRange(GL_ARRAY_BUFFER,offset,length, GL_MAP_WRITE_BIT|GL_MAP_FLUSH_EXPLICIT_BIT | GL_MAP_UNSYNCHRONIZED_BIT); // wait for fence (set below) before modifying buffer glClientWaitSync(fence, GL_SYNC_FLUSH_COMMANDS_BIT,GL_TIMEOUT_IGNORED); // modify buffer, flush and unmap memcpy(old_data,data, length); glFlushMappedBufferRange(GL_ARRAY_BUFFER,offset,length); success = glUnmapBuffer(GL_ARRAY_BUFFER); // issue other OpenGL ES commands that use other ranges of the VBO`s data // issue draw commands that use this range of VBO`s data DrawMyVBO(vbo); // create a fence that the next frame will wait for fence = glFenceSync(GL_SYNC_GPU_COMMANDS_COMPLETE,0); return success; } UpdateAndDraw\u51fd\u6570\u4f7f\u7528glFenceSync\u5efa\u7acb\u4e00\u4e2a\u540c\u6b65\u70b9,\u6216\u56f4\u680f,\u63d0\u4ea4\u4f7f\u7528\u7279\u5b9a\u7f13\u51b2\u5bf9\u8c61\u7684\u7ed8\u56fe\u547d\u4ee4\u4e4b\u540e\u7acb\u5373,\u7136\u540e,\u5b83\u5728\u4fee\u6539\u7f13\u51b2\u533a\u5bf9\u8c61\u4e4b\u524d,\u4f7f\u7528glClientWaitSync\u51fd\u6570(\u5728\u4e0b\u4e00\u904d\u6e32\u67d3\u5faa\u73af\u4e2d)\u68c0\u67e5\u8be5\u540c\u6b65\u70b9,\u5982\u679c\u8fd9\u4e9b\u7ed8\u5236\u547d\u4ee4\u5728\u6e32\u67d3\u5faa\u73af\u8fd4\u56de\u4e4b\u524d\u5728GPU\u4e0a\u5b8c\u6210\u6267\u884c,\u5219CPU\u6267\u884c\u4e0d\u4f1a\u963b\u585e,\u8be5UpdateAndDraw\u51fd\u6570\u5c06\u7ee7\u7eed\u4fee\u6539\u7f13\u51b2\u533a\u5e76\u7ed8\u5236\u4e0b\u4e00\u5e27.\u5982\u679cGPU\u5c1a\u672a\u5b8c\u6210\u6267\u884c\u8fd9\u4e9b\u547d\u4ee4,\u5219glClientWaitSync\u51fd\u6570\u5c06\u963b\u6b62\u8fdb\u4e00\u6b65\u7684CPU\u6267\u884c,\u77e5\u9053GPU\u5230\u8fbefence(\u6805\u680f)\u672a\u6b62.\u901a\u8fc7\u4ec5\u5728\u53ef\u80fd\u5b58\u5728\u5b58\u5728\u8d44\u6e90\u51b2\u7a81\u7684\u4ee3\u7801\u90e8\u5206\u5468\u56f4\u624b\u52a8\u653e\u7f6e\u540c\u6b65\u70b9,\u53ef\u4ee5\u6700\u5927\u7a0b\u5ea6\u5730\u51cf\u5c11CPU\u7b49\u5f85GPU\u7684\u65f6\u95f4","title":"\u5c06\u7f13\u51b2\u533a\u6620\u5c04\u5230\u5ba2\u6237\u7aef\u5185\u5b58\u4ee5\u8fdb\u884c\u5feb\u901f\u66f4\u65b0"}]}